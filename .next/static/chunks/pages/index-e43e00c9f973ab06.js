(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(6209)}])},6209:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return M}});var a=s(5893),r=s(9008),l=s.n(r),n=s(7294),i=s(1163),o=s(1891),c=s(5197),d=s(5482),x=s(6090),m=s(3552),g=s(3785),h=s(6582);let u={"0x40c1eaa23ddd6973330889b30bce05fa21e9b87d":"been1575","0x2ddf9f00cd543f54421cef64eb29c408b49d679f":"Alex","0xf645058ed581662df6b8d07239ecf8a5433d19ec":"Nav","0xef71cf2f7e246783e8c660ab70e59629e952b5be":"Asso","0x4221b5252200b45db09bf635599f0498ec702d09":"homeprotector","0x13cf9980a0238d6f32c3e70172695eca57216fec":"Flash","0x7b149bd829021c7da62bd8c6af1e041367938acf":"megaflop","0xc0a89392f019e81b35ce3bfa82d2309e621ccb7a":"krysaaa","0x1befab8bf83742fa13162d65c528a029b9786076":"barry","0x34079266660196371cfd4cbd3afcbe937909e2c2":"ASR","0xb8680980b03776fb12948442325171ae4fea4b11":"Hoangthao","0xa61933b3074db32c4acca235e9f6991a8dce685b":"fajridrop","0x3dc0ebb9bace78124e2168f3339d04b18af1cd88":"McDuck","0x04e49b062680bc585ccaa8e81c28000ea8664eb3":"GPpoker","0x1be706aacfdc2244611b54ffed0502dc45a45bd1":"SE1","0x8b0219552a3bd3a843c083b9d6ca1e99dafd44d7":"Kaito","0x229a171a3c486762e080b22d1b687ceb9fc74fa3":"metaalex","0x8689ad878545177403f5be5e6e31cfef94025a81":"Lilin","0x48efd1928d62c38bdcdd2b6d71ac60c4f333e1f":"m777","0x910d0efd8e2d831af89fb9ec60d22b60e6f34508":"saintlee","0x90edb8322ebf7695dfdc22324c844af273828af3":"CrypLykos","0x6e9aabcbfa8a45e715729b4df3643e8bec3a1f4c":"nguyenhai","0x9b9595555b77c5add018b2e52f5ed7e9e34a28fa":"Lecrawl","0xda3f1157b1c66ed91fa835eade9a9026a8495c35":"mrL","0xd3f804e7a8e5d9a3a84ab9f6b18c7e33bbc6baab":"eduzzo","0xdf9cb973634af0b5cb8c953c77213cb2f8489951":"bangsand","0x2550fdf63d761d3e912282d041a527aef493aff7":"Corleone","0x09a920a30c406db57b6d1a56f24eb0af43468f71":"Ariefw219","0x3c39ce87ed582a91db288aa0556d5b954da4acdc":"ninja3","0x958e31a0a9410b9f6204fe0a6a52de644f5f3f8b":"LYLN","0x5e14da20d61969d445a07ad3a576a7c1c2710952":"ComfyJoe","0x12ad0d86952bfa551a5166aee20ce0d47c12d3e6":"NorrisNguyenNP","0xade6976f6d4930cb1868d48d1cdf99c6db3dea38":"KINGTA","0x7fdf6ced2953d53a30ca2774f918cdff293f04ed":"Ajeto","0xe000441b32d0aba1bd2fb5b7fd1e7f82cb612052":"MegaManRivs","0x8bea9b54e8e145b0b1f69b47b54d5a577b00ea4a":"jam","0x647f44d213a1c76f51621943d0b1ee28877ce4fc":"Kangliu","0x0c3e1eee5723ff6d670f9f2cc2e9541fd30c5ef2":"Scorpion","0x790c4a63f30f098efdd16c64b54939877eca43d1":"miguelusin","0x7e77b7b7f379fa67bb82505080a952eda83806b3":"Yan","0xb10ee603248bdd1d5f004d48e87f52a96bd1e149":"police911","0x11b72e0c989be9130cefb10832fefb4f49cdcdd8":"chiboozor","0xf05dabb6fcdb8f51dd39aa42ea811285efee57cf":"mouse","0x49015274d2c9e71938d3e471072c2b749f786a91":"Snep","0x4db3c5a9b9742295950d13e25c8cdaf9bb203e1c":"RQLTR","0x64a6ce1145e23c9caf9b5da2be3a13c9d8945b8f":"DarthDuck","0x853db182b8783fa8250d96e0d38f95e457e5f3d6":"StanCifka","0x5e535ac83516c729624874be88c275b86a0878c4":"gdgr","0x4e8c39b5aad3ddb277ac56b9463fe279c596b40d":"tango"},p="2025-07-25",b="2026-01-13",y=e=>{if(!e)return"";let t=e.trim(),s=t.indexOf("#");return -1===s?t:t.slice(0,s)};function f(e){let t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(s,"-").concat(a)}function v(e){if(!e)return null;let t=e.trim(),s=/^([0-9]{4})-([0-9]{2})-([0-9]{2})$/.exec(t);return s?{y:Number(s[1]),m:Number(s[2]),d:Number(s[3])}:(s=/^([0-9]{2})\.([0-9]{2})\.([0-9]{4})$/.exec(t))?{y:Number(s[3]),m:Number(s[2]),d:Number(s[1])}:(s=/^([0-9]{1,2})\/([0-9]{1,2})\/([0-9]{4})$/.exec(t))?{y:Number(s[3]),m:Number(s[1]),d:Number(s[2])}:null}function j(e){let t=v(e);if(!t)return e||"";let s=new Date(t.y,t.m-1,t.d);if(isNaN(s.getTime()))return e||"";let a=s.toLocaleString("en-US",{month:"short"}),r=String(t.y).slice(-2);return"".concat(a," ").concat(t.d," ").concat(r)}function w(e){let t=v(e);if(!t)return;let s=Date.UTC(t.y,t.m-1,t.d,0,0,0);if(!isNaN(s))return Math.floor(s/1e3)}function N(e){let t=v(e);if(!t)return;let s=Date.UTC(t.y,t.m-1,t.d,23,59,59);if(!isNaN(s))return Math.floor(s/1e3)}function k(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return"$0";let s=BigInt(e),a=Number((s<0n?-s:s)/0xde0b6b3a7640000n).toLocaleString("en-US");return"".concat(s<0n?"-":t&&s>0n?"+":"","$").concat(a)}function C(e){if(!e)return"";let t=e.trim();return t.length<=10?t:"".concat(t.slice(0,6),"…").concat(t.slice(-4))}let S=[{address:"0x9B9595555B77c5aDd018B2E52F5eD7e9e34a28FA",prize:2400,display:"1 ETH (~$2,400)",rank:1},{address:"0xEf71Cf2F7E246783E8c660ab70E59629E952b5be",prize:300,display:"$300",rank:2},{address:"0x40c1EAA23DDD6973330889B30bcE05Fa21E9B87D",prize:200,display:"$200",rank:3},{address:"0x64A6cE1145E23c9CaF9b5dA2BE3a13C9d8945B8f",prize:100,display:"$100",rank:4},{address:"0x11B72e0C989bE9130cEFb10832fEFB4F49CdcDd8",prize:50,display:"$50",rank:5},{address:"0x910D0EFd8E2D831af89FB9eC60D22B60E6f34508",prize:50,display:"$50",rank:6},{address:"0x2DdF9F00CD543F54421CEf64eB29C408b49D679F",prize:50,display:"$50",rank:7},{address:"0x3Dc0ebb9bACe78124e2168F3339d04B18AF1cd88",prize:50,display:"$50",rank:8}],L=S.reduce((e,t)=>e+t.prize,0);function M(){var e;let t=(0,i.useRouter)(),[s,r]=(0,n.useState)(b),[v,M]=(0,n.useState)(""),[D,B]=(0,n.useState)(""),E=(0,n.useRef)(!1),A=(0,n.useRef)(null),[F,U]=(0,n.useState)(!1),[R,_]=(0,n.useState)(null),[O,I]=(0,n.useState)(null),[$,Z]=(0,n.useState)([]),[W,z]=(0,n.useState)(!1),[H,V]=(0,n.useState)("all"),[G,J]=(0,n.useState)([]),[Y,q]=(0,n.useState)({key:"total",dir:"desc"}),[X,K]=(0,n.useState)(!1),[Q,ee]=(0,n.useState)(!1),[et,es]=(0,n.useState)(null),[ea,er]=(0,n.useState)(!1),[el,en]=(0,n.useState)([]),[ei,eo]=(0,n.useState)(new Set),[ec,ed]=(0,n.useState)(new Set),[ex,em]=(0,n.useState)(null),[eg,eh]=(0,n.useState)(null),[eu,ep]=(0,n.useState)(""),[eb,ey]=(0,n.useState)([]),[ef,ev]=(0,n.useState)(!1),[ej,ew]=(0,n.useState)(null),[eN,ek]=(0,n.useState)(null),[eC,eS]=(0,n.useState)([]),[eL,eM]=(0,n.useState)("0"),[eP,eT]=(0,n.useState)([]),[eD,eB]=(0,n.useState)([]),[eE,eA]=(0,n.useState)("all"),[eF,eU]=(0,n.useState)({}),[eR,e_]=(0,n.useState)({}),[eO,eI]=(0,n.useState)(null),[e$,eZ]=(0,n.useState)(!1),[eW,ez]=(0,n.useState)(!1),[eH,eV]=(0,n.useState)("idle"),[eG,eJ]=(0,n.useState)(!1),[eY,eq]=(0,n.useState)(""),[eX,eK]=(0,n.useState)(null),[eQ,e0]=(0,n.useState)(null),[e1,e2]=(0,n.useState)(null),[e4,e5]=(0,n.useState)(!1),[e3,e8]=(0,n.useState)(null),e6=(0,n.useRef)(null),[e9,e7]=(0,n.useState)(""),[te,tt]=(0,n.useState)(null),[ts,ta]=(0,n.useState)(!1),[tr,tl]=(0,n.useState)(null),[tn,ti]=(0,n.useState)(null),to=(0,n.useRef)(null),tc="weekly"===eE?eP:"monthly"===eE?eD:eb;(0,n.useEffect)(()=>{try{"undefined"!=typeof document&&document.documentElement.classList.add("dark");let e=localStorage.getItem("recentPlayers");e&&en(JSON.parse(e));let t=localStorage.getItem("dominantClasses");t&&eU(JSON.parse(t))}catch(e){}fetch("/api/wallets").then(e=>e.json()).then(e=>{e.ok&&e.mapping&&e_(e.mapping)}).catch(()=>{})},[]),(0,n.useEffect)(()=>{0!==eb.length||ef||sm()},[!0]),(0,n.useEffect)(()=>{if(E.current||!t.isReady)return;let e=t.query,s="string"==typeof e.start?e.start:void 0,a="string"==typeof e.end?e.end:void 0,l="string"==typeof e.player?e.player:void 0,n="string"==typeof e.only?e.only:void 0;"string"==typeof e.theme&&e.theme;let i="string"==typeof e.compare?e.compare:void 0,o="string"==typeof e.money?e.money:void 0,c="string"==typeof e.wallet?e.wallet.trim().toLowerCase():void 0;s&&r(s),a&&M(a),l&&B(l),"1"===n&&z(!0),i&&ep(i),"1"===o&&eJ(!0),c&&/^0x[a-f0-9]{40}$/.test(c)&&e7(c);let d="string"==typeof e.share?e.share:void 0;d&&(eZ(!0),fetch("/api/share?id=".concat(encodeURIComponent(d))).then(e=>e.json()).then(e=>{if(!e.ok)throw Error(e.error||"Failed to load snapshot");let t=e.data||{};t.params&&(t.params.start&&r(t.params.start),void 0!==t.params.end&&M(t.params.end),t.params.player&&B(t.params.player),"1"===t.params.only&&z(!0),t.params.compare&&ep(t.params.compare)),Z(t.rows||[]),em(t.aggByClass||null),eh(t.aggLastUpdate||null),I(null),_(null)}).catch(e=>_((null==e?void 0:e.message)||String(e))).finally(()=>eZ(!1))),E.current=!0},[t.isReady]);let td=(0,n.useRef)(!1);(0,n.useEffect)(()=>{!td.current&&e9&&!te&&!ts&&/^0x[a-f0-9]{40}$/i.test(e9)&&(td.current=!0,t6(e9))},[e9]),(0,n.useEffect)(()=>{if(!E.current)return;let e={};s&&(e.start=s),v&&(e.end=v),D&&(e.player=D),W&&(e.only="1"),eu.trim()&&(e.compare=eu.trim()),e9&&/^0x[a-f0-9]{40}$/i.test(e9)&&(e.wallet=e9),t.replace({pathname:t.pathname,query:e},void 0,{shallow:!0})},[s,v,D,eu,W,e9]);let tx=(0,n.useMemo)(()=>{let e={};for(let l of $){var t,s,a,r;let n=(null===(s=l.winningPlayer)||void 0===s?void 0:null===(t=s.trim)||void 0===t?void 0:t.call(s).toLowerCase())||"",i=(null===(r=l.losingPlayer)||void 0===r?void 0:null===(a=r.trim)||void 0===a?void 0:a.call(r).toLowerCase())||"";n&&(e[n]=(e[n]||0)+1),i&&(e[i]=(e[i]||0)+1)}return e},[$]),tm=(0,n.useMemo)(()=>"all"===H?$:$.filter(e=>{var t,s,a,r;let l=(null===(s=e.winningPlayer)||void 0===s?void 0:null===(t=s.trim)||void 0===t?void 0:t.call(s).toLowerCase())||"",n=(null===(r=e.losingPlayer)||void 0===r?void 0:null===(a=r.trim)||void 0===a?void 0:a.call(r).toLowerCase())||"",i=tx[l]||0,o=tx[n]||0,c=i>=25,d=o>=25;return"pro"===H?c&&d:"mixed"===H?c&&!d||!c&&d:!c&&!d}),[$,H,tx]),tg=(0,n.useMemo)(()=>tm,[tm]),th=(0,n.useMemo)(()=>{let e=D.trim().toLowerCase(),t=tg.filter(t=>{var s,a;return(null===(a=t.winningPlayer)||void 0===a?void 0:null===(s=a.trim)||void 0===s?void 0:s.call(a).toLowerCase())===e}),s=tg.filter(t=>{var s,a;return(null===(a=t.losingPlayer)||void 0===a?void 0:null===(s=a.trim)||void 0===s?void 0:s.call(a).toLowerCase())===e}),a=t.length,r=s.length,l=a+r,n=new Map;for(let e of t){var i;let t=(null!==(i=e.winningClasses)&&void 0!==i?i:"").trim();t&&n.set(t,(n.get(t)||0)+1)}let o=null,c=0;for(let[e,t]of n.entries())t>c&&(o=e,c=t);let d=a?c/a:0;return{wins:a,losses:r,total:l,winrate:l?a/l:0,dominantClass:o,dominantClassPct:d}},[tg,D]),tu=(0,n.useMemo)(()=>{let e=0;for(let t of $){let s=function(e){if(!e)return null;let t=e.trim(),s=/^([0-9]{4})-([0-9]{2})-([0-9]{2})[ T]([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\s*(?:UTC|Z))?$/i.exec(t);if(s)return Math.floor(Date.UTC(Number(s[1]),Number(s[2])-1,Number(s[3]),Number(s[4]),Number(s[5]),Number(s[6]))/1e3);let a=Date.parse(t.replace(" ","T").replace(/\s*UTC$/i,"Z"));return isNaN(a)?null:Math.floor(a/1e3)}(t.startedAt);s&&s>e&&(e=s)}return e?new Date(1e3*e).toLocaleString():null},[$]),tp=(0,n.useMemo)(()=>{let e=N(v),t=new Date,s=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())/1e3,a=new Date((s-1)*1e3);return eW||e&&!(e>=s)?tu||"latest cached block":a.toLocaleString()},[tu,v,eW]),tb=(0,n.useMemo)(()=>{let e=D.trim().toLowerCase();return tm.filter(t=>{var s,a,r,l;return(null===(a=t.winningPlayer)||void 0===a?void 0:null===(s=a.trim)||void 0===s?void 0:s.call(a).toLowerCase())===e||(null===(l=t.losingPlayer)||void 0===l?void 0:null===(r=l.trim)||void 0===r?void 0:r.call(l).toLowerCase())===e}).map(t=>{var s,a,r,l,n,i;return{...t,result:(()=>{var s,a;let r=(null===(a=t.winningPlayer)||void 0===a?void 0:null===(s=a.trim)||void 0===s?void 0:s.call(a).toLowerCase())===e,l=(t.endReason||"").toLowerCase().includes("timeout"),n=r?"Win":"Loss";return l?n+" Timeout":n})(),opponent:(null===(a=t.winningPlayer)||void 0===a?void 0:null===(s=a.trim)||void 0===s?void 0:s.call(a).toLowerCase())===e?t.losingPlayer:t.winningPlayer,playerClasses:(null===(l=t.winningPlayer)||void 0===l?void 0:null===(r=l.trim)||void 0===r?void 0:r.call(l).toLowerCase())===e?t.winningClasses:t.losingClasses,opponentClasses:(null===(i=t.winningPlayer)||void 0===i?void 0:null===(n=i.trim)||void 0===n?void 0:n.call(i).toLowerCase())===e?t.losingClasses:t.winningClasses}}).sort((e,t)=>t.blockNumber-e.blockNumber)},[tm,D]);(0,n.useMemo)(()=>{let e=eu.trim().toLowerCase();if(!e)return null;let t=tg.filter(t=>{var s,a;return(null===(a=t.winningPlayer)||void 0===a?void 0:null===(s=a.trim)||void 0===s?void 0:s.call(a).toLowerCase())===e}),s=tg.filter(t=>{var s,a;return(null===(a=t.losingPlayer)||void 0===a?void 0:null===(s=a.trim)||void 0===s?void 0:s.call(a).toLowerCase())===e}),a=t.length,r=s.length,l=a+r;return{wins:a,losses:r,total:l,winrate:l?a/l:0}},[tg,eu]),(0,n.useMemo)(()=>{let e=D.trim().toLowerCase(),t=eu.trim().toLowerCase();if(!e||!t)return null;let s=0,a=0;for(let o of tg){var r,l,n,i;let c=null===(l=o.winningPlayer)||void 0===l?void 0:null===(r=l.trim)||void 0===r?void 0:r.call(l).toLowerCase(),d=null===(i=o.losingPlayer)||void 0===i?void 0:null===(n=i.trim)||void 0===n?void 0:n.call(i).toLowerCase();c===e&&d===t?s++:c===t&&d===e&&a++}return{p1Wins:s,p2Wins:a,total:s+a}},[tg,D,eu]);let[ty,tf]=(0,n.useState)(1),[tv,tj]=(0,n.useState)(1),[tw,tN]=(0,n.useState)(5),[tk,tC]=(0,n.useState)(""),[tS,tL]=(0,n.useState)(""),[tM,tP]=(0,n.useState)({key:"startedAt",dir:"desc"}),[tT,tD]=(0,n.useState)({key:"startedAt",dir:"desc"}),[tB,tE]=(0,n.useState)({key:"winrate",dir:"desc"}),[tA,tF]=(0,n.useState)({key:"total",dir:"desc"}),tU=(0,n.useMemo)(()=>{let e=$.slice();return e.sort((e,t)=>{let s=tM.key,a=e[s],r=t[s];if("startedAt"===s){let e=e=>{if(!e)return 0;let t=/^([0-9]{4})-([0-9]{2})-([0-9]{2})[ T]([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\s*(?:UTC|Z))?$/i.exec(e.trim());if(t)return Math.floor(Date.UTC(Number(t[1]),Number(t[2])-1,Number(t[3]),Number(t[4]),Number(t[5]),Number(t[6]))/1e3);let s=Date.parse(e.replace(" ","T").replace(/\s*UTC$/i,"Z"));return isNaN(s)?0:Math.floor(s/1e3)};a=e(a),r=e(r)}let l=a<r?-1:a>r?1:0;return"asc"===tM.dir?l:-l}),e},[$,tM]),tR=(0,n.useMemo)(()=>{let e=(ty-1)*tw;return tU.slice(e,e+tw)},[tU,ty,tw]),t_=(0,n.useMemo)(()=>{let e=tb.slice();return e.sort((e,t)=>{let s=tT.key,a=e[s],r=t[s];if("startedAt"===s){let e=e=>{if(!e)return 0;let t=/^([0-9]{4})-([0-9]{2})-([0-9]{2})[ T]([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\s*(?:UTC|Z))?$/i.exec(e.trim());if(t)return Math.floor(Date.UTC(Number(t[1]),Number(t[2])-1,Number(t[3]),Number(t[4]),Number(t[5]),Number(t[6]))/1e3);let s=Date.parse(e.replace(" ","T").replace(/\s*UTC$/i,"Z"));return isNaN(s)?0:Math.floor(s/1e3)};a=e(a),r=e(r)}let l=a<r?-1:a>r?1:0;return"asc"===tT.dir?l:-l}),e},[tb,tT]),tO=(0,n.useMemo)(()=>{let e=(tv-1)*tw;return t_.slice(e,e+tw)},[t_,tv,tw]);(0,n.useEffect)(()=>{tf(1)},[$,tw]),(0,n.useEffect)(()=>{tj(1)},[tb,tw]),(0,n.useEffect)(()=>{let e=e=>{var t,s;(null===(t=e.target)||void 0===t?void 0:t.tagName)!=="INPUT"&&(null===(s=e.target)||void 0===s?void 0:s.tagName)!=="TEXTAREA"&&("ArrowRight"===e.key&&tf(e=>Math.min(Math.ceil($.length/tw)||1,e+1)),"ArrowLeft"===e.key&&tf(e=>Math.max(1,e-1)))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[$,tw]),(0,n.useEffect)(()=>{let e=()=>er(window.scrollY>400);return window.addEventListener("scroll",e),e(),()=>window.removeEventListener("scroll",e)},[]),(0,n.useEffect)(()=>{A.current&&$.length>0&&(A.current.scrollLeft=A.current.scrollWidth)},[$]);let tI=async e=>{try{await navigator.clipboard.writeText(e),es(e),setTimeout(()=>es(null),1200)}catch(e){}},t$=e=>{eo(t=>{let s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s})},tZ=e=>{ed(t=>{let s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s})},tW=(0,n.useMemo)(()=>{let e=D.trim().toLowerCase(),t=new Map;for(let o of tg){var s,a,r,l,n,i;if((null===(a=o.winningPlayer)||void 0===a?void 0:null===(s=a.trim)||void 0===s?void 0:s.call(a).toLowerCase())===e){let e=(null!==(n=o.winningClasses)&&void 0!==n?n:"").trim()||"(unknown)",s=t.get(e)||{wins:0,losses:0,total:0};s.wins+=1,s.total+=1,t.set(e,s)}else if((null===(l=o.losingPlayer)||void 0===l?void 0:null===(r=l.trim)||void 0===r?void 0:r.call(l).toLowerCase())===e){let e=(null!==(i=o.losingClasses)&&void 0!==i?i:"").trim()||"(unknown)",s=t.get(e)||{wins:0,losses:0,total:0};s.losses+=1,s.total+=1,t.set(e,s)}}let o=Array.from(t.entries()).map(e=>{let[t,s]=e;return{klass:t,...s,winrate:s.total?s.wins/s.total:0}});return o.sort((e,t)=>{let s=tA.key,a=tA.dir,r=e[s]<t[s]?-1:e[s]>t[s]?1:0;return"asc"===a?r:-r}),o},[tg,D,tA]),tz=(0,n.useMemo)(()=>{let e=new Map;for(let a of tg){var t,s;let r=(null!==(t=a.winningClasses)&&void 0!==t?t:"").trim(),l=(null!==(s=a.losingClasses)&&void 0!==s?s:"").trim();if(r){let t=e.get(r)||{wins:0,losses:0,total:0};t.wins+=1,t.total+=1,e.set(r,t)}if(l){let t=e.get(l)||{wins:0,losses:0,total:0};t.losses+=1,t.total+=1,e.set(l,t)}}let a=Array.from(e.entries()).map(e=>{let[t,s]=e;return{klass:t,...s,winrate:s.total?s.wins/s.total:0}});return a.sort((e,t)=>{let s=tB.key,a=tB.dir,r=e[s]<t[s]?-1:e[s]>t[s]?1:0;return"asc"===a?r:-r}),a},[tg,tB]);function tH(e){if(!e)return null;let t=/^([0-9]{4})-([0-9]{2})-([0-9]{2})[ T]([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\s*(?:UTC|Z))?$/i.exec(e.trim());if(t)return Math.floor(Date.UTC(+t[1],+t[2]-1,+t[3],+t[4],+t[5],+t[6])/1e3);let s=Date.parse(e.replace(" ","T").replace(/\s*UTC$/i,"Z"));return isNaN(s)?null:Math.floor(s/1e3)}let tV=(0,n.useMemo)(()=>{let e=new Set;for(let t of tg){let s=tH(t.startedAt);null!=s&&e.add(Math.floor(s/86400))}return Array.from(e).sort((e,t)=>e-t)},[tg]),tG=(0,n.useMemo)(()=>{let e=D.trim().toLowerCase(),t=new Set;for(let n of tg){var s,a,r,l;if((null===(a=n.winningPlayer)||void 0===a?void 0:null===(s=a.trim)||void 0===s?void 0:s.call(a).toLowerCase())!==e&&(null===(l=n.losingPlayer)||void 0===l?void 0:null===(r=l.trim)||void 0===r?void 0:r.call(l).toLowerCase())!==e)continue;let i=tH(n.startedAt);null!=i&&t.add(Math.floor(i/86400))}return Array.from(t).sort((e,t)=>e-t)},[tg,D]);function tJ(e,t,s){let a=new Map;s.forEach((e,t)=>a.set(e,t));let r=new Map(t.map(e=>[e,Array(s.length).fill(0)]));for(let t of e){let e=tH(t.startedAt);if(null==e)continue;let s=Math.floor(e/86400),l=a.get(s);if(null==l)continue;let n=(t.winningClasses||"").trim(),i=(t.losingClasses||"").trim();n&&r.has(n)&&(r.get(n)[l]+=1),i&&r.has(i)&&(r.get(i)[l]+=1)}return r}let tY=(0,n.useMemo)(()=>tJ(tg,tz.map(e=>e.klass),tV),[tg,tz,tV]),tq=(0,n.useMemo)(()=>{let e=D.trim().toLowerCase();return tg.filter(t=>{var s,a,r,l;return(null===(a=t.winningPlayer)||void 0===a?void 0:null===(s=a.trim)||void 0===s?void 0:s.call(a).toLowerCase())===e||(null===(l=t.losingPlayer)||void 0===l?void 0:null===(r=l.trim)||void 0===r?void 0:r.call(l).toLowerCase())===e})},[tg,D]),tX=(0,n.useMemo)(()=>tJ(tq,tW.map(e=>e.klass),tG),[tq,tW,tG]);function tK(e){let{data:t}=e,s=Math.max(1,...t),r=t.length>1?60/(t.length-1):60,l=t.map((e,t)=>"".concat(t*r,",").concat(14-e/s*14)).join(" ");return(0,a.jsx)("svg",{width:60,height:14,"aria-hidden":"true",children:(0,a.jsx)("polyline",{points:l,fill:"none",stroke:"currentColor",strokeWidth:"1",opacity:.6})})}(0,n.useEffect)(()=>{if(!W)return;let e=D.trim().toLowerCase();if(!e)return;let t=new Map;for(let n of tg){var s,a,r,l;let i=(null===(a=n.winningPlayer)||void 0===a?void 0:null===(s=a.trim)||void 0===s?void 0:s.call(a).toLowerCase())===e,o=(null===(l=n.losingPlayer)||void 0===l?void 0:null===(r=l.trim)||void 0===r?void 0:r.call(l).toLowerCase())===e;if(!i&&!o)continue;let c=((i?n.winningClasses:n.losingClasses)||"").trim();c&&c.includes("/")&&t.set(c,(t.get(c)||0)+1)}let n=null,i=0;for(let[e,s]of t.entries())s>i&&(n=e,i=s);if(!n){J([]);return}let o=n.split("/").map(e=>e.trim()).filter(Boolean);if(2!==o.length){J([]);return}J(o)},[tg,D,W,s,v]);let tQ=(0,n.useMemo)(()=>{let e=v||"",t=j(s||p),a=e?j(e):"latest";return"".concat(t," → ").concat(a)},[s,v]),t0=(0,n.useMemo)(()=>{let e={};for(let l of $){var t,s,a,r;let n="";try{let e=new Date(l.startedAt);isNaN(e.getTime())||(n="".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"),"-").concat(String(e.getDate()).padStart(2,"0")))}catch(e){}if(!n)continue;e[n]||(e[n]=new Set);let i=null===(s=l.winningPlayer)||void 0===s?void 0:null===(t=s.trim)||void 0===t?void 0:t.call(s).toLowerCase(),o=null===(r=l.losingPlayer)||void 0===r?void 0:null===(a=r.trim)||void 0===a?void 0:a.call(r).toLowerCase();i&&e[n].add(i),o&&e[n].add(o)}return Object.entries(e).map(e=>{let[t,s]=e;return{day:t,count:s.size}}).sort((e,t)=>e.day.localeCompare(t.day))},[$]),t1=(0,n.useMemo)(()=>{if(0===$.length)return{};let e={...u,...eR},t={};for(let[s,a]of Object.entries(e)){let e=a.toLowerCase();t[e]||(t[e]=[]),t[e].push(s.toLowerCase())}let s=new Date("2026-02-03T00:00:00Z").getTime(),a={};for(let e of $){var r,l,n;try{if(new Date(e.startedAt).getTime()<s)continue}catch(e){continue}let i=null===(r=e.winningPlayer)||void 0===r?void 0:r.trim();if(!i)continue;let o=t[i.toLowerCase()];if(!o||0===o.length)continue;let c=(null!==(l=e.winningClasses)&&void 0!==l?l:"").trim();if(c)for(let e of o)a[e]||(a[e]={}),a[e][c]=(null!==(n=a[e][c])&&void 0!==n?n:0)+1}let i={};for(let[e,t]of Object.entries(a)){let s=Object.entries(t).sort((e,t)=>t[1]-e[1]);if(s.reduce((e,t)=>{let[,s]=t;return e+s},0),0===s.length)continue;let a=s[0];i[e]=a[0]}return i},[$,eR]);(0,n.useEffect)(()=>{if(Object.keys(t1).length>0){let e={...eF,...t1};eU(e);try{localStorage.setItem("dominantClasses",JSON.stringify(e))}catch(e){}}},[t1]);let t2=(0,n.useMemo)(()=>({...eF,...t1}),[eF,t1]);(0,n.useEffect)(()=>{if(!D.trim())return;let e=t4[D.trim().toLowerCase()];if(!e)return;let t=t2[e];if(!t)return;let s=t.split("/").map(e=>e.trim()).filter(e=>["Bureaucrat","Cheater","Gambler","Inventor","Protector","Rebel"].includes(e));2===s.length&&J(s)},[D,t2]);let t4=(0,n.useMemo)(()=>{let e={...u,...eR},t={};for(let[s,a]of Object.entries(e))t[a.toLowerCase()]=s.toLowerCase();return t},[eR]),t5=(0,n.useMemo)(()=>Object.entries({...u,...eR}).map(e=>{let[t,s]=e;return{nick:s,wallet:t.toLowerCase()}}).sort((e,t)=>e.nick.localeCompare(t.nick)),[eR]),t3=(0,n.useMemo)(()=>{let e=eY.trim().toLowerCase();return e?t5.filter(t=>t.nick.toLowerCase().includes(e)||t.wallet.includes(e)).slice(0,20):t5.slice(0,20)},[eY,t5]),t8=async(e,t)=>{eK(e),e0(t),e5(!0),e8(null),e2(null);try{let t=await fetch("/api/usdm?player=".concat(e));if(!t.ok)throw Error("HTTP ".concat(t.status));let s=await t.json();if(!s.ok)throw Error(s.error||"Unknown error");if(!s.playerData){e8("Player not found in money match data");return}e2(s.playerData),setTimeout(()=>{var e;null===(e=e6.current)||void 0===e||e.scrollTo({left:e6.current.scrollWidth,behavior:"smooth"})},100)}catch(e){e8((null==e?void 0:e.message)||"Failed to fetch")}finally{e5(!1)}},t6=async e=>{let t=e.trim().toLowerCase();if(!/^0x[a-f0-9]{40}$/.test(t)){tl("Invalid wallet address");return}ta(!0),tl(null),tt(null),eG?ti({...u,...eR}[t]||null):ti(null);try{let e=await fetch("/api/usdm?player=".concat(t));if(!e.ok)throw Error("HTTP ".concat(e.status));let s=await e.json();if(!s.ok)throw Error(s.error||"Unknown error");if(!s.playerData){tl("No money match data found for this wallet");return}tt(s.playerData),setTimeout(()=>{var e;null===(e=to.current)||void 0===e||e.scrollTo({left:to.current.scrollWidth,behavior:"smooth"})},100)}catch(e){tl((null==e?void 0:e.message)||"Failed to fetch")}finally{ta(!1)}},t9=(0,n.useMemo)(()=>{var e,t,s,a,r,l,n;let i=D.trim().toLowerCase(),o=W?tg.filter(e=>{var t,s,a,r;return(null===(s=e.winningPlayer)||void 0===s?void 0:null===(t=s.trim)||void 0===t?void 0:t.call(s).toLowerCase())===i||(null===(r=e.losingPlayer)||void 0===r?void 0:null===(a=r.trim)||void 0===a?void 0:a.call(r).toLowerCase())===i}):tg,c=new Set,d={};for(let a of o){let r=(null!==(e=a.winningClasses)&&void 0!==e?e:"").trim(),l=(null!==(t=a.losingClasses)&&void 0!==t?t:"").trim();r&&l&&r.includes("/")&&l.includes("/")&&(c.add(r),c.add(l),d[r]||(d[r]={}),d[r][l]=(null!==(s=d[r][l])&&void 0!==s?s:0)+1)}let x=Array.from(c).sort(),m={};for(let e of x){let t=[];for(let s of x){if(e===s)continue;let i=null!==(l=null===(a=d[e])||void 0===a?void 0:a[s])&&void 0!==l?l:0,o=null!==(n=null===(r=d[s])||void 0===r?void 0:r[e])&&void 0!==n?n:0,c=i+o;0!==c&&t.push({opponent:s,wins:i,losses:o,total:c,winRate:i/c})}t.sort((e,t)=>t.total-e.total),m[e]=t}return{classes:x,matchups:m}},[tg,D,W]),t7=(0,n.useMemo)(()=>2!==G.length?"":[...G].sort().join("/"),[G]),se=e=>{J(t=>t.includes(e)?t.filter(t=>t!==e):t.length<2?[...t,e]:[t[1],e])},st=(0,n.useMemo)(()=>{let e=new Map;for(let l of tg){var t,s,a,r;let n=(null!==(t=l.winningClasses)&&void 0!==t?t:"").trim(),i=(null!==(s=l.losingClasses)&&void 0!==s?s:"").trim(),o=(null!==(a=l.winningPlayer)&&void 0!==a?a:"").trim().toLowerCase(),c=(null!==(r=l.losingPlayer)&&void 0!==r?r:"").trim().toLowerCase();if(n&&n.includes("/")&&o){e.has(n)||e.set(n,new Map);let t=e.get(n),s=t.get(o)||{wins:0,losses:0,total:0};s.wins+=1,s.total+=1,t.set(o,s)}if(i&&i.includes("/")&&c){e.has(i)||e.set(i,new Map);let t=e.get(i),s=t.get(c)||{wins:0,losses:0,total:0};s.losses+=1,s.total+=1,t.set(c,s)}}let l=[];for(let[t,s]of e.entries()){let e=null;for(let[t,a]of s.entries()){if(a.total<25)continue;let s=a.wins/a.total;(!e||s>e.winrate||s===e.winrate&&a.total>e.total)&&(e={player:t,wins:a.wins,losses:a.losses,total:a.total,winrate:s})}e&&l.push({klass:t,...e})}return l.sort((e,t)=>t.winrate-e.winrate||t.total-e.total||e.klass.localeCompare(t.klass))},[tg]),ss=e=>{let t=new Date,s=new Date(t.getFullYear(),t.getMonth(),t.getDate());if("today"===e)r(f(s)<p?p:f(s)),M(f(s));else if("last7"===e){let e=new Date(s);e.setDate(e.getDate()-6),r(f(e)<p?p:f(e)),M(f(s))}else if("last30"===e){let e=new Date(s);e.setDate(e.getDate()-29),r(f(e)<p?p:f(e)),M(f(s))}else if("thisMonth"===e){let e=new Date(s.getFullYear(),s.getMonth(),1);r(f(e)<p?p:f(e)),M(f(s))}else if("prevMonth"===e){let e=new Date(s.getFullYear(),s.getMonth()-1,1),t=new Date(s.getFullYear(),s.getMonth(),0);r(f(e)<p?p:f(e)),M(f(t))}else"allTime"===e?(r(p),M("")):"sincePatch"===e&&(r(b),M(""))},sa=async e=>{void 0!==e&&B(e),_(null),I(null),Z([]),U(!0),eV("idle");try{let e={startTs:s===b?1768392e3:w(s),endTs:N(v),wantAgg:!0,live:!1,cacheOnly:!0},t=await fetch("/api/eth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("HTTP ".concat(t.status,": ").concat(t.statusText));let a=await t.json();if(!a.ok)throw Error(a.error||"Unknown error");a.warning&&I(a.warning);let r=(a.rows||[]).map(e=>({...e,winningPlayer:y(e.winningPlayer),losingPlayer:y(e.losingPlayer)}));Z(r);let l=new Set(el);for(let e of r)l.add((e.winningPlayer||"").trim()),l.add((e.losingPlayer||"").trim());let n=Array.from(l).filter(Boolean).slice(0,200);en(n);try{localStorage.setItem("recentPlayers",JSON.stringify(n))}catch(e){}em(a.aggByClass||null),eh(a.aggLastUpdate||null),ez(!1),eV("cached"),ef||0!==eb.length||sm();let i=new Date,o=Date.UTC(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate())/1e3,c=N(v),d=Math.floor(new Date("2026-01-15T11:49:24Z").getTime()/1e3);(void 0===c||c>=o||void 0===c||c>d)&&sl()}catch(e){_((null==e?void 0:e.message)||String(e))}finally{U(!1)}},sr=Math.floor(new Date("2026-01-15T11:49:24Z").getTime()/1e3),sl=async()=>{_(null),I(null),U(!0);try{let e=s===b?1768392e3:w(s),t=new Date,a=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())/1e3,r=N(v),l=(void 0===r||r>sr)&&(e||0)<=(r||Date.now()/1e3),n=await fetch("/api/eth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({startTs:l?Math.max(e||0,sr+1):Math.max(e||0,a),endTs:r,wantAgg:!0,live:!0,cacheOnly:!1})});if(!n.ok)throw Error("HTTP ".concat(n.status,": ").concat(n.statusText));let i=await n.json();if(!i.ok)throw Error(i.error||"Unknown error");i.warning&&I(i.warning);let o=(i.rows||[]).map(e=>({...e,winningPlayer:y(e.winningPlayer),losingPlayer:y(e.losingPlayer)}));Z(e=>(function(e,t){let s=new Map;for(let t of e){let e="number"==typeof t.logIndex?"".concat(t.txHash,":").concat(t.logIndex):t.gameId?"gid:".concat(t.gameId):"".concat(t.txHash,":").concat(t.blockNumber);s.set(e,t)}for(let e of t){let t="number"==typeof e.logIndex?"".concat(e.txHash,":").concat(e.logIndex):e.gameId?"gid:".concat(e.gameId):"".concat(e.txHash,":").concat(e.blockNumber);s.set(t,e)}return Array.from(s.values())})(e,o)),em(i.aggByClass||null),eh(i.aggLastUpdate||null),ez(!0),eV("live")}catch(e){_((null==e?void 0:e.message)||String(e))}finally{U(!1)}},[sn,si]=(0,n.useState)(0),[so,sc]=(0,n.useState)(""),sd=async(e,t)=>{let s=await fetch("https://mainnet.megaeth.com/rpc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:e,params:t})}),a=await s.json();if(a.error)throw Error(a.error.message||"RPC error");return a.result},sx=async e=>{try{sc("Syncing from browser...");let t="0x7b8df4195eda5b193304eecb5107de18b6557d24",s=await sd("eth_blockNumber",[]),a=parseInt(s,16),r=Math.max(e+1,5721028);if(r>=a)return sc("Up to date"),null;sc("Browser sync: blocks ".concat(r.toLocaleString()," to ").concat(a.toLocaleString(),"..."));let l=(await sd("eth_getLogs",[{fromBlock:"0x"+r.toString(16),toBlock:"0x"+a.toString(16),address:"0xfafddbb3fc7688494971a79cc65dca3ef82079e7",topics:["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"]}])||[]).filter(e=>{var s,a;let r=null===(s=e.topics[1])||void 0===s?void 0:s.slice(-40).toLowerCase(),l=null===(a=e.topics[2])||void 0===a?void 0:a.slice(-40).toLowerCase();return r===t.slice(2)||l===t.slice(2)});if(0===l.length)return sc("No new transfers"),null;let n=BigInt(0);for(let e of l)n+=BigInt(e.data);sc("Saving ".concat(l.length," transfers to server..."));try{let e=await fetch("/api/usdm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({logs:l,toBlock:a})}),t=await e.json();if(t.ok&&t.saved)return sc("Synced! +".concat(l.length," transfers (saved)")),{totalVolume:t.totalVolume,logs:l.length,toBlock:a,saved:!0}}catch(e){console.warn("Failed to save to server:",e)}return sc("Found ".concat(l.length," new transfers (+$").concat(Math.round(Number(n)/1e18),")")),{newVolume:n.toString(),logs:l.length,toBlock:a}}catch(e){return console.error("Client sync error:",e),sc("Browser sync failed: ".concat((null==e?void 0:e.message)||"Unknown")),null}},sm=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(arguments.length>1&&void 0!==arguments[1]&&arguments[1],!ef&&(e||!(eb.length>0)||!eN)){ev(!0),ew(null);try{var t,s,a,r;let l=await fetch(e?"/api/usdm?fresh=1":"/api/usdm");if(!l.ok)throw Error("HTTP ".concat(l.status,": ").concat(l.statusText));let n=await l.json();if(!n.ok)throw Error(n.error||"Unknown error");ey(n.rows||[]),eT(n.rowsWeekly||[]),eB(n.rowsMonthly||[]),eS(n.volumeSeries||[]),eM(n.totalVolume||"0"),ek(n.updatedAt||null),ew(null);let i=null===(t=n.source)||void 0===t?void 0:t.includes("fallback"),o=(null===(s=n.warning)||void 0===s?void 0:s.includes("429"))||(null===(a=n.warning)||void 0===a?void 0:a.toLowerCase().includes("upstream"));if(i&&o&&n.lastBlock){let e=await sx(n.lastBlock);if(e){if(e.saved&&e.totalVolume)eM(e.totalVolume);else if(e.newVolume){let t=BigInt(n.totalVolume||"0")+BigInt(e.newVolume);eM(t.toString())}ek(Date.now()),si(Date.now()),setTimeout(()=>sm(!1,!1),1e3);return}}if(n.debug||n.syncedTo){let e=n.latestBlock&&n.syncedTo?n.latestBlock-n.syncedTo:0;if(e>100){let t=n.latestBlock?Math.round(n.syncedTo/n.latestBlock*100):100;sc("Syncing... ".concat(t,"% (").concat(e.toLocaleString()," blocks left)"))}else(null===(r=n.debug)||void 0===r?void 0:r.logsFound)>0?sc("Synced! +".concat(n.debug.logsFound," transfers")):sc("Up to date")}else i&&o&&sc("Server busy, will try browser sync...");let c=n.latestBlock&&n.syncedTo?n.latestBlock-n.syncedTo:0;n.needsMoreSync||c>100||i&&o?o?setTimeout(()=>sm(!0,!0),15e3):setTimeout(()=>sm(!0,!0),2e3):(si(Date.now()),sc(""))}catch(t){let e=(null==t?void 0:t.message)||String(t);e.includes("429")||e.toLowerCase().includes("upstream")?(sc("RPC busy, retrying in 15s..."),setTimeout(()=>sm(!0,!0),15e3)):eN&&Date.now()-eN<3e5||ew(e)}finally{ev(!1)}}},sg=(e,t)=>{let s=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),a=URL.createObjectURL(s),r=document.createElement("a");r.href=a,r.download=e,r.click(),URL.revokeObjectURL(a)},sh=e=>{if(!e)return null;try{let t=JSON.parse(e);return JSON.stringify(t,null,2)}catch(t){return e}},su=(e,t)=>"https://megaeth.blockscout.com/tx/".concat(e,"?tab=logs"),sp=(e,t)=>{let s=(null==t?void 0:t.map(e=>e.key))||(e[0]?Object.keys(e[0]):[]);return[((null==t?void 0:t.map(e=>e.label))||s).join(","),...e.map(e=>s.map(t=>{let s=e[t],a=null==s?"":String(s),r='"'+a.replace(/"/g,'""')+'"';return/[",\n]/.test(a)?r:a}).join(","))].join("\n")},sb=(e,t,s)=>{let a=new Blob([sp(t,s)],{type:"text/csv;charset=utf-8"}),r=URL.createObjectURL(a),l=document.createElement("a");l.href=r,l.download=e,l.click(),URL.revokeObjectURL(r)};return(0,a.jsxs)("div",{className:"min-h-screen bg-[#0a0a0a] text-gray-100",children:[(0,a.jsx)(l(),{children:(0,a.jsx)("title",{children:"Showdown Meta Tracker"})}),(0,a.jsxs)("div",{className:"mx-auto max-w-7xl px-4 py-10",children:[(0,a.jsxs)("div",{className:"mb-4 rounded-lg bg-[#1a1a1a] text-gray-500 px-4 py-2 text-xs border border-gray-800",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Track the meta, find your edge."})," ",(0,a.jsx)("span",{className:"text-gray-500",children:"Built on fully transparent onchain MegaETH data."})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("img",{src:"/images/showdown_small.jpg",alt:"Showdown logo",className:"h-10 w-10 rounded"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o.E.h1,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},className:"text-2xl font-bold tracking-wide text-red-500 uppercase",children:"Showdown"}),(0,a.jsx)("div",{className:"text-xs text-gray-400 uppercase tracking-widest",children:"Meta Tracker"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("a",{href:"https://alpha.showdown.game/",target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 bg-red-600 hover:bg-red-500 text-white px-5 py-2.5 text-sm font-bold uppercase tracking-wide transition-colors",children:"Play Now"}),(0,a.jsxs)("div",{className:"text-[10px] text-gray-500 mt-1",children:["Referral code ",(0,a.jsx)("span",{className:"text-gray-400 font-medium",children:"#405"})," for bonus showpoints"]})]})]}),(te||ts||tr)&&(0,a.jsxs)("div",{className:"mt-6 rounded-lg bg-[#141414] p-5 border border-emerald-900/40",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"text-sm font-semibold text-gray-200",children:"Money Match P&L"}),eG&&tn&&(0,a.jsx)("span",{className:"text-xs text-emerald-400 font-medium",children:tn})]}),e9&&(0,a.jsx)("a",{className:"text-[10px] text-gray-500 font-mono hover:text-gray-300",href:"https://megaeth.blockscout.com/address/".concat(e9),target:"_blank",rel:"noreferrer",children:C(e9)})]}),ts&&(0,a.jsx)("div",{className:"text-sm text-gray-400 py-6 text-center",children:"Loading P&L data..."}),tr&&!ts&&(0,a.jsx)("div",{className:"text-sm text-red-400 py-4 text-center",children:tr}),te&&!ts&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[(0,a.jsxs)("div",{className:"text-center p-3 rounded-lg bg-[#1c1c1c]",children:[(0,a.jsx)("div",{className:"text-[10px] uppercase tracking-wider text-gray-400",children:"Won"}),(0,a.jsx)("div",{className:"mt-1 text-xl font-bold text-green-400",children:k(te.totals.won)})]}),(0,a.jsxs)("div",{className:"text-center p-3 rounded-lg bg-[#1c1c1c]",children:[(0,a.jsx)("div",{className:"text-[10px] uppercase tracking-wider text-gray-400",children:"Lost"}),(0,a.jsx)("div",{className:"mt-1 text-xl font-bold text-red-400",children:k(te.totals.lost)})]}),(0,a.jsxs)("div",{className:"text-center p-3 rounded-lg bg-[#1c1c1c]",children:[(0,a.jsx)("div",{className:"text-[10px] uppercase tracking-wider text-gray-400",children:"Net P&L"}),(0,a.jsx)("div",{className:"mt-1 text-xl font-bold ".concat(BigInt(te.totals.net)>=0n?"text-green-400":"text-red-400"),children:k(te.totals.net,!0)})]}),(0,a.jsxs)("div",{className:"text-center p-3 rounded-lg bg-[#1c1c1c]",children:[(0,a.jsx)("div",{className:"text-[10px] uppercase tracking-wider text-gray-400",children:"Games"}),(0,a.jsx)("div",{className:"mt-1 text-xl font-bold text-gray-200",children:te.totals.txs})]})]}),te.days.length>0&&(()=>{var e;let t=Math.max(...te.days.map(e=>Math.abs(Number(BigInt(e.net)/0xde0b6b3a7640000n))),1),s=te.days.length,r=s<=7?40:s<=15?30:s<=30?24:s<=60?18:14,l=r+2,i=s*l,o=new Date().toISOString().slice(0,10),c=-999,d=te.days.map((e,t)=>{let s=e.day===o,n=t*l+r/2,i=n-14;return!s&&i<c+3?null:(c=i+28,(0,a.jsx)("div",{style:{position:"absolute",left:n,transform:"translateX(-50%)",top:3,whiteSpace:"nowrap"},className:"text-[8px] leading-none ".concat(s?"text-gray-200 font-medium":"text-gray-500"),children:e.day.slice(5)},e.day+"-dl"))});return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-400 mb-2",children:"Daily Net P&L"}),(0,a.jsx)("div",{ref:to,className:"overflow-x-auto pb-1 -mx-1",children:(0,a.jsxs)("div",{style:{minWidth:Math.max(i,280)},children:[(0,a.jsxs)("div",{className:"relative",style:{height:128},children:[(0,a.jsx)("div",{className:"absolute left-0 right-0 border-t border-gray-700/40",style:{top:64}}),te.days.map((e,s)=>{var i,c;let d=Number(BigInt(e.net)/0xde0b6b3a7640000n),x=d>=0,m=Math.max(Math.abs(d)/t*50,2),g=e.day===o,h=s*l,u=x?g?"#22c55e":"#16a34a":g?"#ef4444":"rgba(239,68,68,0.7)",p=d>0?"+$".concat(d):d<0?"-$".concat(Math.abs(d)):"",b=h+.1*r,y=.8*r;if(!x)return(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)("div",{className:"rounded-b absolute",style:{background:u,left:b,width:y,top:64,height:m},title:"".concat(e.day,": ").concat(p," (").concat(null!==(c=e.games)&&void 0!==c?c:e.txs," games)")}),p&&(0,a.jsx)("div",{className:"text-[8px] text-red-400 leading-none text-center absolute",style:{width:r,left:h,top:64+m+2,overflow:"hidden"},children:p})]},e.day);{let t=64-m;return(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)("div",{className:"rounded-t absolute",style:{background:u,left:b,width:y,top:t,height:m},title:"".concat(e.day,": ").concat(p," (").concat(null!==(i=e.games)&&void 0!==i?i:e.txs," games)")}),p&&(0,a.jsx)("div",{className:"text-[8px] text-green-400 leading-none text-center absolute",style:{width:r,left:h,top:t-12,overflow:"hidden"},children:p})]},e.day)}})]}),(0,a.jsx)("div",{className:"relative",style:{height:18},children:d})]})}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 text-[10px] text-gray-500 border-t border-gray-800 pt-2 mt-1",children:[(0,a.jsxs)("div",{children:[s," days active"]}),(0,a.jsxs)("div",{children:["Avg: ",k((BigInt(te.totals.net)/BigInt(Math.max(s,1))).toString(),!0),"/day"]}),(0,a.jsxs)("div",{children:[null!==(e=te.totals.games)&&void 0!==e?e:te.totals.txs," total games"]})]})]})})()]})]}),(0,a.jsxs)("div",{className:"mt-6 grid grid-cols-1 gap-4 lg:grid-cols-[280px_1fr_1fr]",children:[(0,a.jsxs)("div",{className:"rounded-lg bg-[#141414] p-5 lg:sticky lg:top-4 z-20 border border-gray-800/60",children:[(0,a.jsx)("div",{className:"text-[11px] font-semibold uppercase tracking-widest text-gray-400 mb-4",children:"Filters"}),(0,a.jsxs)("label",{className:"block text-[11px] text-gray-400 mb-1",children:["Player Name ",(0,a.jsx)("span",{className:"text-gray-600",children:"(game stats)"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{className:"w-full rounded-lg bg-[#1c1c1c] border border-gray-700/60 px-3 py-2.5 text-sm text-gray-100 placeholder-gray-500 focus:border-gray-600 focus:outline-none",value:D,onChange:e=>{B(e.target.value),K(!0)},onFocus:()=>{ee(!0),K(!0)},onBlur:()=>{ee(!1),setTimeout(()=>K(!1),150)},placeholder:"Enter player name"}),X&&Q&&el.length>0&&(0,a.jsxs)("div",{className:"absolute z-30 mt-1 w-full max-h-48 overflow-y-auto rounded-lg border border-gray-700/60 bg-[#1c1c1c] shadow-xl",children:[el.filter(e=>e.toLowerCase().includes(D.toLowerCase())).slice(0,10).map(e=>(0,a.jsx)("button",{type:"button",className:"w-full px-3 py-2 text-left text-sm text-gray-300 hover:bg-[#282828] first:rounded-t-lg last:rounded-b-lg",onMouseDown:()=>{B(e),K(!1)},children:e},e)),0===el.filter(e=>e.toLowerCase().includes(D.toLowerCase())).length&&(0,a.jsx)("div",{className:"px-3 py-2 text-sm text-gray-500",children:"No matching players"})]})]}),(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsxs)("label",{className:"block text-[11px] text-gray-400 mb-1",children:["Wallet Address ",(0,a.jsx)("span",{className:"text-emerald-600",children:"(shows P&L)"})]}),(0,a.jsxs)("div",{className:"flex gap-1.5",children:[(0,a.jsx)("input",{type:"text",className:"flex-1 min-w-0 rounded-lg bg-[#1c1c1c] border border-gray-700/60 px-3 py-2.5 text-sm text-gray-100 placeholder-gray-500 focus:border-emerald-700 focus:outline-none font-mono",value:e9,onChange:e=>e7(e.target.value.trim()),onKeyDown:e=>{"Enter"===e.key&&e9&&t6(e9)},placeholder:"0x..."}),(0,a.jsx)("button",{onClick:()=>t6(e9),disabled:!e9||ts,className:"rounded-lg bg-emerald-700/60 hover:bg-emerald-700 px-3 py-2 text-xs text-emerald-200 font-medium transition-colors disabled:opacity-40 whitespace-nowrap",children:ts?"...":"P&L"})]}),te&&!tr&&(0,a.jsxs)("div",{className:"mt-1.5 text-[10px] text-emerald-500",children:[eG&&tn&&(0,a.jsxs)("span",{className:"font-medium",children:[tn," \xb7 "]}),"Net: ",k(te.totals.net,!0)," \xb7 ",null!==(e=te.totals.games)&&void 0!==e?e:te.totals.txs," games"]}),tr&&(0,a.jsx)("div",{className:"mt-1.5 text-[10px] text-red-400",children:tr})]}),(0,a.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-[11px] text-gray-400 mb-1",children:"Start date"}),(0,a.jsx)("input",{type:"date",className:"w-full rounded-lg bg-[#1c1c1c] border border-gray-700/60 px-3 py-2.5 text-sm text-gray-100 focus:border-gray-600 focus:outline-none [color-scheme:dark]",value:s,onChange:e=>r(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-[11px] text-gray-400 mb-1",children:"End date"}),(0,a.jsx)("input",{type:"date",className:"w-full rounded-lg bg-[#1c1c1c] border border-gray-700/60 px-3 py-2.5 text-sm text-gray-100 focus:border-gray-600 focus:outline-none [color-scheme:dark]",value:v||"",onChange:e=>M(e.target.value||"")})]})]}),(0,a.jsxs)("div",{className:"mt-4 flex flex-wrap items-center gap-1.5",children:[(0,a.jsx)("span",{className:"text-[11px] text-gray-500 mr-1",children:"Presets:"}),(0,a.jsx)("button",{className:"rounded-full bg-[#1c1c1c] border border-gray-700/60 px-2.5 py-1 text-[11px] text-gray-300 hover:bg-[#282828] hover:text-white transition-colors",onClick:()=>ss("sincePatch"),children:"Since last patch"}),(0,a.jsx)("button",{className:"rounded-full bg-[#1c1c1c] border border-gray-700/60 px-2.5 py-1 text-[11px] text-gray-300 hover:bg-[#282828] hover:text-white transition-colors",onClick:()=>ss("thisMonth"),children:"This month"}),(0,a.jsx)("button",{className:"rounded-full bg-[#1c1c1c] border border-gray-700/60 px-2.5 py-1 text-[11px] text-gray-300 hover:bg-[#282828] hover:text-white transition-colors",onClick:()=>ss("allTime"),children:"All time"})]}),(0,a.jsxs)("button",{onClick:()=>sa(),disabled:F,className:"mt-5 w-full inline-flex items-center justify-center gap-2 bg-red-600 hover:bg-red-500 rounded-lg px-4 py-3 text-sm text-white font-semibold uppercase tracking-wide transition-colors disabled:opacity-50",children:[F?(0,a.jsx)(c.Z,{className:"h-4 w-4 animate-spin"}):(0,a.jsx)(d.Z,{className:"h-4 w-4"}),F?"Loading...":"Analyze"]}),(0,a.jsxs)("button",{onClick:()=>sl(),disabled:F||0===$.length,className:"mt-2 w-full inline-flex items-center justify-center gap-2 bg-[#1c1c1c] hover:bg-[#282828] rounded-lg px-4 py-2.5 text-sm text-gray-400 hover:text-white transition-colors disabled:opacity-40",children:[F?(0,a.jsx)(c.Z,{className:"h-4 w-4 animate-spin"}):(0,a.jsx)(x.Z,{className:"h-4 w-4"}),"Refresh"]}),$.length>0&&(0,a.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:["cached"===eH&&"Showing cached data through ".concat(tp,". Fetching today now…"),"live"===eH&&"Updated with today’s matches. Cached through ".concat(tp,"."),"idle"===eH&&"Showing cached data through ".concat(tp,".")]}),R&&(0,a.jsx)("div",{className:"rounded-lg bg-red-900/20 border border-red-800/50 p-3 text-xs text-red-400",children:R}),O&&!R&&(0,a.jsx)("div",{className:"rounded-lg bg-amber-900/20 border border-amber-800/50 p-3 text-xs text-amber-400",children:O}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("div",{className:"text-[11px] text-gray-400 mb-2",children:"Player Experience"}),(()=>{let e={all:$.length,pro:0,mixed:0,beginnerVsBeginner:0};for(let a of $){var t,s,r,l;let n=(null===(s=a.winningPlayer)||void 0===s?void 0:null===(t=s.trim)||void 0===t?void 0:t.call(s).toLowerCase())||"",i=(null===(l=a.losingPlayer)||void 0===l?void 0:null===(r=l.trim)||void 0===r?void 0:r.call(l).toLowerCase())||"",o=tx[n]||0,c=tx[i]||0,d=o>=25,x=c>=25;d&&x?e.pro++:d&&!x||!d&&x?e.mixed++:e.beginnerVsBeginner++}return(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-1.5",children:[(0,a.jsxs)("button",{onClick:()=>V("all"),className:"rounded-lg px-2.5 py-2 text-[11px] transition-colors border ".concat("all"===H?"bg-gray-700 text-white border-gray-600":"bg-[#1c1c1c] text-gray-400 hover:bg-[#282828] hover:text-white border-transparent"),children:["All Games ",(0,a.jsxs)("span",{className:"opacity-60",children:["(",e.all,")"]})]}),(0,a.jsxs)("button",{onClick:()=>V("pro"),disabled:0===e.pro,className:"rounded-lg px-2.5 py-2 text-[11px] transition-colors border ".concat("pro"===H?"bg-blue-900/60 text-blue-300 border-blue-700/50":0===e.pro?"bg-[#1c1c1c] text-gray-600 border-transparent cursor-not-allowed":"bg-[#1c1c1c] text-gray-400 hover:bg-blue-900/30 hover:text-blue-300 border-transparent"),children:["Pro vs Pro ",(0,a.jsxs)("span",{className:"opacity-60",children:["(",e.pro,")"]})]}),(0,a.jsxs)("button",{onClick:()=>V("mixed"),disabled:0===e.mixed,className:"rounded-lg px-2.5 py-2 text-[11px] transition-colors border ".concat("mixed"===H?"bg-purple-900/60 text-purple-300 border-purple-700/50":0===e.mixed?"bg-[#1c1c1c] text-gray-600 border-transparent cursor-not-allowed":"bg-[#1c1c1c] text-gray-400 hover:bg-purple-900/30 hover:text-purple-300 border-transparent"),children:["Pro vs Beginner ",(0,a.jsxs)("span",{className:"opacity-60",children:["(",e.mixed,")"]})]}),(0,a.jsxs)("button",{onClick:()=>V("beginnerVsBeginner"),disabled:0===e.beginnerVsBeginner,className:"rounded-lg px-2.5 py-2 text-[11px] transition-colors border ".concat("beginnerVsBeginner"===H?"bg-green-900/60 text-green-300 border-green-700/50":0===e.beginnerVsBeginner?"bg-[#1c1c1c] text-gray-600 border-transparent cursor-not-allowed":"bg-[#1c1c1c] text-gray-400 hover:bg-green-900/30 hover:text-green-300 border-transparent"),children:["Beginner vs Beginner ",(0,a.jsxs)("span",{className:"opacity-60",children:["(",e.beginnerVsBeginner,")"]})]})]})})(),(0,a.jsxs)("div",{className:"mt-2 text-[10px] text-gray-500 text-center",children:["all"===H&&"Showing all games regardless of experience","pro"===H&&"Both players have 25+ total games","mixed"===H&&"One experienced + one newer player","beginnerVsBeginner"===H&&"Both players have <25 total games"]})]})]}),(0,a.jsxs)("div",{id:"top-usdm-profits",className:"rounded-lg bg-[#141414] p-4 border border-gray-800/60",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-[11px] font-semibold uppercase tracking-widest text-gray-400",children:"Top Earners"}),(0,a.jsx)("div",{className:"text-[10px] text-gray-500 mt-1",children:eN&&(()=>{let e=Math.floor((Date.now()-eN)/6e4),t=Math.floor(e/60),s=t>0?"".concat(t,"h ").concat(e%60,"m ago"):e>0?"".concat(e,"m ago"):"just now",r=e>30;return(0,a.jsxs)("span",{className:r?"text-amber-500":"",children:[new Date(eN).toLocaleString()," (",s,")"]})})()})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:"Total Volume"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-red-500 mt-0.5",children:k(eL)})]})]}),(0,a.jsxs)("button",{onClick:()=>sm(!0),disabled:ef,className:"w-full mb-2 inline-flex items-center justify-center gap-2 bg-red-600/80 hover:bg-red-600 rounded-lg px-3 py-2 text-xs text-white font-medium transition-colors disabled:opacity-40",children:[ef?(0,a.jsx)(c.Z,{className:"h-3.5 w-3.5 animate-spin"}):(0,a.jsx)(x.Z,{className:"h-3.5 w-3.5"}),ef?"Syncing...":"Refresh"]}),(0,a.jsx)("div",{className:"flex gap-1 mb-2",children:["weekly","monthly","all"].map(e=>(0,a.jsx)("button",{onClick:()=>eA(e),className:"flex-1 px-2 py-1.5 rounded text-[10px] font-medium uppercase tracking-wide transition-colors ".concat(eE===e?"bg-red-600/30 text-red-400 border border-red-700/60":"bg-[#1c1c1c] text-gray-500 border border-gray-800/50 hover:text-gray-300"),children:"weekly"===e?"7 days":"monthly"===e?"30 days":"All time"},e))}),so&&!ej&&(0,a.jsx)("div",{className:"mb-2 text-xs text-yellow-500/80",children:so}),ej&&(0,a.jsx)("div",{className:"mb-3 rounded-lg p-2.5 text-xs ".concat(0===tc.length?"bg-red-900/20 border border-red-800/50 text-red-400":"bg-amber-900/20 border border-amber-800/50 text-amber-400"),children:ej}),(0,a.jsx)("div",{className:"overflow-hidden rounded-lg border border-gray-800/50",children:(0,a.jsxs)("table",{className:"min-w-full text-left text-xs",children:[(0,a.jsx)("thead",{className:"bg-[#1c1c1c]",children:(0,a.jsxs)("tr",{className:"text-gray-400 text-[10px] uppercase tracking-wide",children:[(0,a.jsx)("th",{className:"px-3 py-2.5 w-10 text-center",children:"#"}),(0,a.jsxs)("th",{className:"px-3 py-2.5",children:["Player ",(0,a.jsx)("span",{className:"normal-case text-gray-600 font-normal",children:"(top class)"})]}),(0,a.jsx)("th",{className:"px-3 py-2.5 text-green-500",children:"Profit"}),(0,a.jsx)("th",{className:"px-3 py-2.5 text-right whitespace-nowrap",children:"Games"})]})}),(0,a.jsxs)("tbody",{className:"divide-y divide-gray-800/50",children:[(()=>{let e={...u,...eR};return tc.map((t,s)=>{var r;let l=BigInt(t.net||"0"),n=Number((l<0n?-l:l)/0xde0b6b3a7640000n),i=t2[t.player.toLowerCase()],o=e[t.player.toLowerCase()];return(0,a.jsxs)("tr",{className:"hover:bg-[#1c1c1c] transition-colors",children:[(0,a.jsx)("td",{className:"px-3 py-2.5 text-center text-gray-500",children:s+1}),(0,a.jsxs)("td",{className:"px-3 py-2.5",children:[o&&(0,a.jsx)("button",{className:"text-[11px] text-gray-200 font-semibold hover:text-white hover:underline mb-0.5 block text-left",onClick:()=>{sa(o),e7(t.player.toLowerCase()),t6(t.player.toLowerCase()),window.scrollTo({top:0,behavior:"smooth"})},children:o}),(0,a.jsx)("button",{className:"text-gray-500 hover:text-gray-300 font-mono text-[10px] hover:underline",onClick:()=>{e7(t.player.toLowerCase()),t6(t.player.toLowerCase()),window.scrollTo({top:0,behavior:"smooth"})},children:C(t.player)}),i&&(0,a.jsx)("div",{className:"text-[10px] text-blue-400/70 mt-0.5",title:"Most winning class combo",children:i})]}),(0,a.jsx)("td",{className:"px-3 py-2.5 tabular-nums ".concat(l>0n?n>=100?"text-green-400 font-bold":n>=10?"text-green-400 font-semibold":"text-green-400":l<0n?"text-red-400/70":"text-gray-400"),children:k(t.net,!0)}),(0,a.jsx)("td",{className:"px-3 py-2.5 text-right text-gray-500",children:null!==(r=t.games)&&void 0!==r?r:t.txs})]},t.player+s)})})(),ef&&0===tc.length&&(0,a.jsx)(T,{rows:5,cols:4}),!ef&&0===tc.length&&!ej&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{className:"px-3 py-6 text-center text-gray-500",colSpan:4,children:"all"===eE?"No data yet":"No data for this period"})})]})]})}),(0,a.jsx)("a",{className:"mt-2 inline-block text-[10px] text-gray-500 hover:text-gray-300 transition-colors",href:"https://megaeth.blockscout.com/address/0x7B8DF4195eda5b193304eeCB5107DE18b6557D24?tab=txs",target:"_blank",rel:"noreferrer",children:"View contract →"})]}),(0,a.jsxs)("div",{id:"tournament-winners",className:"rounded-lg bg-[#141414] p-4 border border-gray-800/60",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-[11px] font-semibold uppercase tracking-widest text-amber-400",children:"\uD83C\uDFC6 Tournament Winners"}),(0,a.jsx)("div",{className:"text-[10px] text-gray-500 mt-1",children:"Freeroll prizes"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:"Total Prizes"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-amber-400 mt-0.5",children:["$",L.toLocaleString()]})]})]}),(0,a.jsx)("div",{className:"overflow-hidden rounded-lg border border-gray-800/50",children:(0,a.jsxs)("table",{className:"min-w-full text-left text-xs",children:[(0,a.jsx)("thead",{className:"bg-[#1c1c1c]",children:(0,a.jsxs)("tr",{className:"text-gray-400 text-[10px] uppercase tracking-wide",children:[(0,a.jsx)("th",{className:"px-3 py-2.5 w-10 text-center",children:"#"}),(0,a.jsx)("th",{className:"px-3 py-2.5",children:"Player"}),(0,a.jsx)("th",{className:"px-3 py-2.5 text-amber-400",children:"Prize"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-800/50",children:S.map(e=>{let t=1===e.rank?"text-amber-300 font-bold":e.rank<=3?"text-amber-400 font-semibold":"text-amber-400/80",s=1===e.rank?"\uD83E\uDD47":2===e.rank?"\uD83E\uDD48":3===e.rank?"\uD83E\uDD49":e.rank;return(0,a.jsxs)("tr",{className:"hover:bg-[#1c1c1c] transition-colors",children:[(0,a.jsx)("td",{className:"px-3 py-2.5 text-center text-gray-500",children:s}),(0,a.jsx)("td",{className:"px-3 py-2.5 font-mono text-[11px]",children:(0,a.jsx)("a",{className:"text-gray-300 hover:text-white",href:"https://megaeth.blockscout.com/address/".concat(e.address),target:"_blank",rel:"noreferrer",children:C(e.address)})}),(0,a.jsx)("td",{className:"px-3 py-2.5 tabular-nums ".concat(t),children:e.display})]},e.address)})})]})}),(0,a.jsx)("div",{className:"mt-2 text-[10px] text-gray-500",children:"Manual payouts until smart contract"})]})]}),(0,a.jsx)("div",{className:"mt-6 rounded-lg bg-[#141414] p-5 border border-gray-800/60",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-3 rounded-lg bg-[#1c1c1c]",children:[(0,a.jsx)("div",{className:"text-[10px] uppercase tracking-wider text-gray-400",children:"Wins"}),F&&0===th.wins?(0,a.jsx)("div",{className:"mt-1 h-8 w-16 mx-auto bg-gray-700 rounded animate-pulse"}):(0,a.jsx)("div",{className:"mt-1 text-2xl font-bold text-green-400",children:th.wins})]}),(0,a.jsxs)("div",{className:"text-center p-3 rounded-lg bg-[#1c1c1c]",children:[(0,a.jsx)("div",{className:"text-[10px] uppercase tracking-wider text-gray-400",children:"Losses"}),F&&0===th.losses?(0,a.jsx)("div",{className:"mt-1 h-8 w-16 mx-auto bg-gray-700 rounded animate-pulse"}):(0,a.jsx)("div",{className:"mt-1 text-2xl font-bold text-red-400",children:th.losses})]}),(0,a.jsxs)("div",{className:"text-center p-3 rounded-lg bg-[#1c1c1c]",children:[(0,a.jsx)("div",{className:"text-[10px] uppercase tracking-wider text-gray-400",children:"Win Rate"}),F&&0===th.wins&&0===th.losses?(0,a.jsx)("div",{className:"mt-1 h-8 w-20 mx-auto bg-gray-700 rounded animate-pulse"}):(0,a.jsxs)("div",{className:"mt-1 text-2xl font-bold text-gray-100",children:[(100*th.winrate).toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"text-center p-3 rounded-lg bg-[#1c1c1c]",children:[(0,a.jsx)("div",{className:"text-[10px] uppercase tracking-wider text-gray-400",children:"Top Class"}),F&&!th.dominantClass?(0,a.jsx)("div",{className:"mt-1 h-6 w-24 mx-auto bg-gray-700 rounded animate-pulse"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mt-1 text-sm font-semibold truncate text-gray-100",children:th.dominantClass||"—"}),th.dominantClass&&(0,a.jsxs)("div",{className:"text-[10px] text-gray-500",children:[Math.round(100*(th.dominantClassPct||0)),"% of wins"]})]})]})]})}),(0,a.jsxs)("details",{id:"player-section",className:"mt-6",open:!0,children:[(0,a.jsxs)("summary",{className:"flex items-center gap-3 cursor-pointer list-none text-xs uppercase tracking-widest font-bold text-gray-400",children:[(0,a.jsx)("span",{children:"Player Analysis"}),(0,a.jsx)("span",{className:"h-px flex-1 bg-gray-800"}),(0,a.jsx)("span",{className:"text-[11px] normal-case font-normal text-red-500",children:D||"select player"})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)("div",{id:"player-class-stats",className:"rounded-lg bg-[#141414] p-4 border border-gray-800/60",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm font-semibold text-gray-200",children:["Class Performance — ",(0,a.jsx)("span",{className:"text-red-500",children:D||"—"}),"all"!==H&&(0,a.jsx)("span",{className:"ml-2 text-[10px] px-1.5 py-0.5 rounded ".concat("pro"===H?"bg-blue-900/50 text-blue-400":"mixed"===H?"bg-purple-900/50 text-purple-400":"bg-green-900/50 text-green-400"),children:"pro"===H?"Pro vs Pro":"mixed"===H?"Pro vs Beginner":"Beginner vs Beginner"})]}),tW.length>0&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("button",{onClick:()=>sg("showdown_class_stats_"+(D||"player")+".json",tW),className:"inline-flex items-center gap-1.5 rounded-lg bg-[#1c1c1c] border border-gray-700/60 px-3 py-1.5 text-xs text-gray-300 hover:bg-[#282828] transition-colors",children:[(0,a.jsx)(m.Z,{className:"h-3.5 w-3.5"})," JSON"]}),(0,a.jsxs)("button",{onClick:()=>sb("showdown_class_stats_"+(D||"player")+".csv",tW),className:"inline-flex items-center gap-1.5 rounded-lg bg-[#1c1c1c] border border-gray-700/60 px-3 py-1.5 text-xs text-gray-300 hover:bg-[#282828] transition-colors",children:[(0,a.jsx)(m.Z,{className:"h-3.5 w-3.5"})," CSV"]})]})]}),(0,a.jsx)("div",{className:"mt-3 overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full text-left text-xs md:text-sm",children:[(0,a.jsx)("thead",{className:"sticky top-0 z-10",children:(0,a.jsxs)("tr",{className:"border-b border-gray-700 bg-[#1c1c1c]",children:[(0,a.jsxs)("th",{className:"p-2 w-52 cursor-pointer sticky left-0 bg-[#1c1c1c]","aria-sort":"klass"===tA.key?"asc"===tA.dir?"ascending":"descending":"none",onClick:()=>tF(e=>({key:"klass",dir:"klass"===e.key&&"asc"===e.dir?"desc":"asc"})),children:["Class ","klass"===tA.key?"asc"===tA.dir?"↑":"↓":""]}),(0,a.jsxs)("th",{className:"p-2 w-24 cursor-pointer","aria-sort":"wins"===tA.key?"asc"===tA.dir?"ascending":"descending":"none",onClick:()=>tF(e=>({key:"wins",dir:"wins"===e.key&&"asc"===e.dir?"desc":"asc"})),children:["Wins ","wins"===tA.key?"asc"===tA.dir?"↑":"↓":""]}),(0,a.jsxs)("th",{className:"p-2 w-24 cursor-pointer","aria-sort":"losses"===tA.key?"asc"===tA.dir?"ascending":"descending":"none",onClick:()=>tF(e=>({key:"losses",dir:"losses"===e.key&&"asc"===e.dir?"desc":"asc"})),children:["Losses ","losses"===tA.key?"asc"===tA.dir?"↑":"↓":""]}),(0,a.jsxs)("th",{className:"p-2 w-24 cursor-pointer","aria-sort":"total"===tA.key?"asc"===tA.dir?"ascending":"descending":"none",onClick:()=>tF(e=>({key:"total",dir:"total"===e.key&&"asc"===e.dir?"desc":"asc"})),children:["Games ","total"===tA.key?"asc"===tA.dir?"↑":"↓":""]}),(0,a.jsxs)("th",{className:"p-2 w-28 cursor-pointer","aria-sort":"winrate"===tA.key?"asc"===tA.dir?"ascending":"descending":"none",onClick:()=>tF(e=>({key:"winrate",dir:"winrate"===e.key&&"asc"===e.dir?"desc":"asc"})),children:["Win Rate ","winrate"===tA.key?"asc"===tA.dir?"↑":"↓":""]})]})}),(0,a.jsxs)("tbody",{children:[tW.map((e,t)=>(0,a.jsxs)("tr",{className:"border-b border-gray-800 hover:bg-[#1c1c1c] transition-colors",children:[(0,a.jsx)("td",{className:"p-2 sticky left-0 bg-[#141414]",children:e.klass}),(0,a.jsx)("td",{className:"p-2 tabular-nums",children:e.wins}),(0,a.jsx)("td",{className:"p-2 tabular-nums",children:e.losses}),(0,a.jsx)("td",{className:"p-2 tabular-nums",children:e.total}),(0,a.jsxs)("td",{className:"p-2 tabular-nums flex items-center gap-2",children:[(100*e.winrate).toFixed(1),"% ",(0,a.jsx)("span",{className:"text-gray-400",children:(0,a.jsx)(tK,{data:tX.get(e.klass)||[]})})]})]},e.klass+t)),F&&0===tW.length&&(0,a.jsx)(T,{rows:6,cols:5}),0===tW.length&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{className:"p-6 text-center text-gray-500",colSpan:5,children:"No class stats yet — run a query above."})})]})]})})]}),(0,a.jsxs)("div",{id:"class-vs-class",className:"mt-6 rounded-lg bg-[#141414] p-4 border border-gray-800/60",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[(0,a.jsxs)("div",{className:"text-sm font-semibold text-gray-200",children:["Class vs Class — Win Rates","all"!==H&&(0,a.jsx)("span",{className:"ml-2 text-[10px] px-1.5 py-0.5 rounded ".concat("pro"===H?"bg-blue-900/50 text-blue-400":"mixed"===H?"bg-purple-900/50 text-purple-400":"bg-green-900/50 text-green-400"),children:"pro"===H?"Pro vs Pro":"mixed"===H?"Pro vs Beginner":"Beginner vs Beginner"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 text-xs text-gray-400",children:[(0,a.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded",checked:W,onChange:e=>z(e.target.checked)}),"Only matches incl. ",(0,a.jsx)("span",{className:"font-semibold",children:D||"player"})]})]}),(0,a.jsx)("div",{className:"mt-1 text-[11px] text-gray-500",children:"Shows all matches by default; toggle to limit to matches including the selected player."}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:"Select 2 classes to form a dual-class"}),(0,a.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-2",children:["Bureaucrat","Cheater","Gambler","Inventor","Protector","Rebel"].map(e=>{let t=G.includes(e);return(0,a.jsx)("button",{onClick:()=>se(e),className:"px-2 py-2 sm:px-4 rounded-lg text-xs sm:text-sm font-medium transition-all ".concat(t?"bg-red-600 text-white shadow-md ring-2 ring-red-400":"bg-[#1c1c1c] text-gray-300 hover:bg-[#282828] hover:scale-105"),children:e},e)})}),1===G.length&&(0,a.jsx)("div",{className:"mt-2 text-xs text-amber-400",children:"Select one more class to see matchups"})]}),t7&&t9.matchups[t7]&&(0,a.jsx)("div",{className:"mt-5",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full text-left text-xs md:text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-gray-700 bg-[#1c1c1c]",children:[(0,a.jsxs)("th",{className:"p-2 cursor-pointer hover:bg-[#282828] transition-colors",onClick:()=>q(e=>({key:"opponent",dir:"opponent"===e.key&&"asc"===e.dir?"desc":"asc"})),children:["Opponent ","opponent"===Y.key?"asc"===Y.dir?"↑":"↓":""]}),(0,a.jsxs)("th",{className:"p-2 text-center cursor-pointer hover:bg-[#282828] transition-colors",onClick:()=>q(e=>({key:"winRate",dir:"winRate"===e.key&&"desc"===e.dir?"asc":"desc"})),children:[(0,a.jsx)("span",{className:"font-bold text-blue-400",children:t7})," WR ","winRate"===Y.key?"asc"===Y.dir?"↑":"↓":""]}),(0,a.jsxs)("th",{className:"p-2 text-center cursor-pointer hover:bg-[#282828] transition-colors",onClick:()=>q(e=>({key:"wins",dir:"wins"===e.key&&"desc"===e.dir?"asc":"desc"})),children:["Wins ","wins"===Y.key?"asc"===Y.dir?"↑":"↓":""]}),(0,a.jsxs)("th",{className:"p-2 text-center cursor-pointer hover:bg-[#282828] transition-colors",onClick:()=>q(e=>({key:"losses",dir:"losses"===e.key&&"desc"===e.dir?"asc":"desc"})),children:["Losses ","losses"===Y.key?"asc"===Y.dir?"↑":"↓":""]}),(0,a.jsxs)("th",{className:"p-2 text-center cursor-pointer hover:bg-[#282828] transition-colors",onClick:()=>q(e=>({key:"total",dir:"total"===e.key&&"desc"===e.dir?"asc":"desc"})),children:["Games ","total"===Y.key?"asc"===Y.dir?"↑":"↓":""]})]})}),(0,a.jsx)("tbody",{children:0===t9.matchups[t7].length?(0,a.jsx)("tr",{children:(0,a.jsxs)("td",{className:"p-4 text-center text-gray-500",colSpan:5,children:["No matchup data for ",t7,"."]})}):[...t9.matchups[t7]].sort((e,t)=>{let s="asc"===Y.dir?1:-1;return"opponent"===Y.key?s*e.opponent.localeCompare(t.opponent):"winRate"===Y.key?s*(e.winRate-t.winRate):"wins"===Y.key?s*(e.wins-t.wins):"losses"===Y.key?s*(e.losses-t.losses):s*(e.total-t.total)}).map(e=>{let t=Math.round(120*e.winRate);return(0,a.jsxs)("tr",{className:"border-b border-gray-800 hover:bg-[#1c1c1c] transition-colors",children:[(0,a.jsx)("td",{className:"p-2 font-medium",children:e.opponent}),(0,a.jsx)("td",{className:"p-2 text-center",children:(0,a.jsxs)("span",{className:"inline-block rounded-full px-2 py-0.5 text-xs text-white font-medium",style:{backgroundColor:"hsl(".concat(t,", 60%, 45%)")},children:[(100*e.winRate).toFixed(0),"%"]})}),(0,a.jsx)("td",{className:"p-2 text-center tabular-nums text-green-400",children:e.wins}),(0,a.jsx)("td",{className:"p-2 text-center tabular-nums text-red-400",children:e.losses}),(0,a.jsx)("td",{className:"p-2 text-center tabular-nums",children:e.total})]},e.opponent)})})]})})}),t7&&!t9.matchups[t7]&&t9.classes.length>0&&(0,a.jsxs)("div",{className:"mt-4 p-4 text-center text-gray-500 text-sm border border-dashed rounded-lg border-gray-700",children:["No data found for ",(0,a.jsx)("span",{className:"font-semibold",children:t7})," in the current dataset"]}),!t7&&t9.classes.length>0&&(0,a.jsx)("div",{className:"mt-4 p-4 text-center text-gray-500 text-sm border border-dashed rounded-lg border-gray-700",children:"Select 2 classes above to see matchup win rates"}),0===t9.classes.length&&(0,a.jsx)("div",{className:"mt-4 p-4 text-center text-gray-500 text-sm",children:F?"Loading...":"No dual-class data yet — run a query above."})]}),(0,a.jsxs)("div",{id:"player-matches",className:"mt-6 rounded-lg bg-[#141414] p-4 border border-gray-800/60",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm font-semibold text-gray-200",children:["Matches — ",(0,a.jsx)("span",{className:"text-red-500",children:D||"—"}),(0,a.jsxs)("span",{className:"ml-2 text-xs text-gray-500",children:["(",tb.length,")"]}),"all"!==H&&(0,a.jsx)("span",{className:"ml-2 text-[10px] px-1.5 py-0.5 rounded ".concat("pro"===H?"bg-blue-900/50 text-blue-400":"mixed"===H?"bg-purple-900/50 text-purple-400":"bg-green-900/50 text-green-400"),children:"pro"===H?"Pro vs Pro":"mixed"===H?"Pro vs Beginner":"Beginner vs Beginner"})]}),tb.length>0&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("button",{onClick:()=>sg("showdown_matches_for_"+(D||"player")+".json",tb),className:"inline-flex items-center gap-1.5 rounded-lg bg-[#1c1c1c] border border-gray-700/60 px-3 py-1.5 text-xs text-gray-300 hover:bg-[#282828] transition-colors",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4"})," JSON"]}),(0,a.jsxs)("button",{onClick:()=>sb("showdown_matches_for_"+(D||"player")+".csv",tb),className:"inline-flex items-center gap-1.5 rounded-lg bg-[#1c1c1c] border border-gray-700/60 px-3 py-1.5 text-xs text-gray-300 hover:bg-[#282828] transition-colors",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4"})," CSV"]})]})]}),(0,a.jsx)("div",{className:"mt-3 overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full text-left text-xs md:text-sm",children:[(0,a.jsx)("thead",{className:"sticky top-0 z-10",children:(0,a.jsxs)("tr",{className:"border-b border-gray-700 bg-[#1c1c1c]",children:[(0,a.jsxs)("th",{className:"p-2 w-24 cursor-pointer","aria-sort":"gameNumber"===tT.key?"asc"===tT.dir?"ascending":"descending":"none",onClick:()=>tD(e=>({key:"gameNumber",dir:"gameNumber"===e.key&&"asc"===e.dir?"desc":"asc"})),children:["Game # ","gameNumber"===tT.key?"asc"===tT.dir?"↑":"↓":""]}),(0,a.jsxs)("th",{className:"p-2 w-20 cursor-pointer","aria-sort":"result"===tT.key?"asc"===tT.dir?"ascending":"descending":"none",onClick:()=>tD(e=>({key:"result",dir:"result"===e.key&&"asc"===e.dir?"desc":"asc"})),children:["Result ","result"===tT.key?"asc"===tT.dir?"↑":"↓":""]}),(0,a.jsx)("th",{className:"p-2 w-40 cursor-pointer",onClick:()=>tD(e=>({key:"opponent",dir:"opponent"==e.key&&"asc"===e.dir?"desc":"asc"})),children:"Opponent"}),(0,a.jsx)("th",{className:"p-2 w-44",children:"Player class"}),(0,a.jsx)("th",{className:"p-2 w-44",children:"Opponent class"}),(0,a.jsx)("th",{className:"p-2 w-24",children:"Duration"}),(0,a.jsxs)("th",{className:"p-2 w-40 whitespace-nowrap cursor-pointer","aria-sort":"startedAt"===tT.key?"asc"===tT.dir?"ascending":"descending":"none",onClick:()=>tD(e=>({key:"startedAt",dir:"startedAt"===e.key&&"asc"===e.dir?"desc":"asc"})),children:["Started ","startedAt"===tT.key?"asc"===tT.dir?"↑":"↓":""]}),(0,a.jsx)("th",{className:"p-2 w-16",children:"Tx"})]})}),(0,a.jsxs)("tbody",{children:[tO.map((e,t)=>(sh(e.metadata),(0,a.jsxs)(n.Fragment,{children:[(0,a.jsxs)("tr",{className:"border-b border-gray-800 hover:bg-[#1c1c1c] transition-colors cursor-pointer",onClick:()=>t$(e.txHash),children:[(0,a.jsx)("td",{className:"p-2 tabular-nums",children:e.gameNumber}),(0,a.jsx)("td",{className:"p-2 font-medium",children:e.result}),(0,a.jsx)("td",{className:"p-2",children:e.opponent}),(0,a.jsx)("td",{className:"p-2",children:e.playerClasses}),(0,a.jsx)("td",{className:"p-2",children:e.opponentClasses}),(0,a.jsx)("td",{className:"p-2",children:e.gameLength||"—"}),(0,a.jsx)("td",{className:"p-2",children:e.startedAt}),(0,a.jsxs)("td",{className:"p-2 flex items-center gap-2",children:[(0,a.jsx)("a",{className:"text-blue-600 underline",href:su(e.txHash,e.network),target:"_blank",rel:"noreferrer",children:"tx"}),(0,a.jsx)("button",{className:"rounded border px-1 py-0.5 text-[10px]",title:"Copy tx hash",onClick:()=>tI(e.txHash),children:et===e.txHash?(0,a.jsx)(g.Z,{className:"h-3 w-3"}):(0,a.jsx)(h.Z,{className:"h-3 w-3"})})]})]}),ei.has(e.txHash)&&(0,a.jsx)("tr",{className:"border-b border-gray-700 bg-[#1a1a1a]",children:(0,a.jsx)("td",{colSpan:8,className:"p-3 text-xs",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Player class:"})," ",e.playerClasses]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Opponent class:"})," ",e.opponentClasses]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Length:"})," ",e.gameLength||"—"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Game type:"})," ",e.gameType||"—"]})]})})})]},e.txHash+t))),0===tb.length&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{className:"p-6 text-center text-gray-500",colSpan:8,children:F?(0,a.jsx)(T,{rows:8,cols:7}):"No matches for this player in range ".concat(tQ," yet.")})})]})]})}),tb.length>tw&&(0,a.jsxs)("div",{className:"mt-3 flex items-center justify-center gap-2 text-xs",children:[(0,a.jsx)("button",{className:"rounded border px-2 py-1",onClick:()=>tj(e=>Math.max(1,e-1)),disabled:1===tv,children:"Prev"}),(0,a.jsxs)("div",{children:["Page ",tv," / ",Math.ceil(tb.length/tw)]}),(0,a.jsx)("button",{className:"rounded border px-2 py-1",onClick:()=>tj(e=>Math.min(Math.ceil(tb.length/tw),e+1)),disabled:tv>=Math.ceil(tb.length/tw),children:"Next"}),(0,a.jsxs)("select",{className:"ml-2 rounded border px-2 py-1 bg-[#1c1c1c] border-gray-700/60",value:tw,onChange:e=>tN(Number(e.target.value)),children:[(0,a.jsx)("option",{value:5,children:"5"}),(0,a.jsx)("option",{value:15,children:"15"}),(0,a.jsx)("option",{value:25,children:"25"}),(0,a.jsx)("option",{value:50,children:"50"}),(0,a.jsx)("option",{value:100,children:"100"})]}),(0,a.jsx)("input",{value:tS,onChange:e=>tL(e.target.value),onKeyDown:e=>{if("Enter"===e.key){let e=parseInt(tS||"1",10);isNaN(e)||tj(Math.min(Math.max(1,e),Math.ceil(tb.length/tw)))}},className:"ml-2 w-16 rounded border px-2 py-1 bg-[#1c1c1c] border-gray-700/60",placeholder:"Go"})]})]})]})]}),(0,a.jsxs)("details",{id:"global-section",className:"mt-10",open:!0,children:[(0,a.jsxs)("summary",{className:"flex items-center gap-3 cursor-pointer list-none text-xs uppercase tracking-widest font-bold text-gray-400",children:[(0,a.jsx)("span",{children:"Global Meta"}),(0,a.jsx)("span",{className:"h-px flex-1 bg-gray-800"}),(0,a.jsx)("span",{className:"text-[11px] normal-case font-normal text-gray-500",children:tQ})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)("div",{id:"global-class-stats",className:"rounded-lg bg-[#141414] p-4 border border-gray-800/60",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm font-semibold text-gray-200",children:["Class Performance — All Matches",(0,a.jsxs)("span",{className:"ml-2 text-xs text-gray-500",children:["(",tQ,")"]}),"all"!==H&&(0,a.jsx)("span",{className:"ml-2 text-[10px] px-1.5 py-0.5 rounded ".concat("pro"===H?"bg-blue-900/50 text-blue-400":"mixed"===H?"bg-purple-900/50 text-purple-400":"bg-green-900/50 text-green-400"),children:"pro"===H?"Pro vs Pro":"mixed"===H?"Pro vs Beginner":"Beginner vs Beginner"})]}),tz.length>0&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("button",{onClick:()=>sg("showdown_class_stats_all.json",tz),className:"inline-flex items-center gap-1.5 rounded-lg bg-[#1c1c1c] border border-gray-700/60 px-3 py-1.5 text-xs text-gray-300 hover:bg-[#282828] transition-colors",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4"})," JSON"]}),(0,a.jsxs)("button",{onClick:()=>sb("showdown_class_stats_all.csv",tz),className:"inline-flex items-center gap-1.5 rounded-lg bg-[#1c1c1c] border border-gray-700/60 px-3 py-1.5 text-xs text-gray-300 hover:bg-[#282828] transition-colors",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4"})," CSV"]})]})]}),(0,a.jsx)("div",{className:"mt-1 text-[10px] text-gray-500",children:eg?"Aggregates last updated ".concat(new Date(eg).toLocaleString()):""}),(0,a.jsx)("div",{className:"mt-3 overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full text-left text-xs md:text-sm",children:[(0,a.jsx)("thead",{className:"sticky top-0 z-10",children:(0,a.jsxs)("tr",{className:"border-b border-gray-700 bg-[#1c1c1c]",children:[(0,a.jsxs)("th",{className:"p-2 w-52 cursor-pointer sticky left-0 bg-[#1c1c1c]","aria-sort":"klass"===tB.key?"asc"===tB.dir?"ascending":"descending":"none",onClick:()=>tE(e=>({key:"klass",dir:"klass"===e.key&&"asc"===e.dir?"desc":"asc"})),children:["Class ","klass"===tB.key?"asc"===tB.dir?"↑":"↓":""]}),(0,a.jsxs)("th",{className:"p-2 w-24 cursor-pointer","aria-sort":"wins"===tB.key?"asc"===tB.dir?"ascending":"descending":"none",onClick:()=>tE(e=>({key:"wins",dir:"wins"===e.key&&"asc"===e.dir?"desc":"asc"})),children:["Wins ","wins"===tB.key?"asc"===tB.dir?"↑":"↓":""]}),(0,a.jsxs)("th",{className:"p-2 w-24 cursor-pointer","aria-sort":"losses"===tB.key?"asc"===tB.dir?"ascending":"descending":"none",onClick:()=>tE(e=>({key:"losses",dir:"losses"===e.key&&"asc"===e.dir?"desc":"asc"})),children:["Losses ","losses"===tB.key?"asc"===tB.dir?"↑":"↓":""]}),(0,a.jsxs)("th",{className:"p-2 w-24 cursor-pointer","aria-sort":"total"===tB.key?"asc"===tB.dir?"ascending":"descending":"none",onClick:()=>tE(e=>({key:"total",dir:"total"===e.key&&"asc"===e.dir?"desc":"asc"})),children:["Games ","total"===tB.key?"asc"===tB.dir?"↑":"↓":""]}),(0,a.jsxs)("th",{className:"p-2 w-28 cursor-pointer","aria-sort":"winrate"===tB.key?"asc"===tB.dir?"ascending":"descending":"none",onClick:()=>tE(e=>({key:"winrate",dir:"winrate"===e.key&&"asc"===e.dir?"desc":"asc"})),children:["Win Rate ","winrate"===tB.key?"asc"===tB.dir?"↑":"↓":""]})]})}),(0,a.jsxs)("tbody",{children:[tz.map((e,t)=>(0,a.jsxs)("tr",{className:"border-b border-gray-800 hover:bg-[#1c1c1c] transition-colors",children:[(0,a.jsx)("td",{className:"p-2 sticky left-0 bg-[#141414]",children:e.klass}),(0,a.jsx)("td",{className:"p-2 tabular-nums",children:e.wins}),(0,a.jsx)("td",{className:"p-2 tabular-nums",children:e.losses}),(0,a.jsx)("td",{className:"p-2 tabular-nums",children:e.total}),(0,a.jsxs)("td",{className:"p-2 tabular-nums flex items-center gap-2",children:[(100*e.winrate).toFixed(1),"% ",(0,a.jsx)("span",{className:"text-gray-400",children:(0,a.jsx)(tK,{data:tY.get(e.klass)||[]})})]})]},e.klass+t)),F&&0===tz.length&&(0,a.jsx)(T,{rows:6,cols:5}),0===tz.length&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{className:"p-6 text-center text-gray-500",colSpan:5,children:"No data yet — run a query above."})})]})]})})]}),(0,a.jsxs)("div",{id:"top-by-class",className:"mt-6 rounded-lg bg-[#141414] p-4 border border-gray-800/60",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm font-semibold text-gray-200",children:["Best Player by Class",(0,a.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"(min 25 games)"}),"all"!==H&&(0,a.jsx)("span",{className:"ml-2 text-[10px] px-1.5 py-0.5 rounded ".concat("pro"===H?"bg-blue-900/50 text-blue-400":"mixed"===H?"bg-purple-900/50 text-purple-400":"bg-green-900/50 text-green-400"),children:"pro"===H?"Pro vs Pro":"mixed"===H?"Pro vs Beginner":"Beginner vs Beginner"})]}),st.length>0&&(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)("button",{onClick:()=>sg("showdown_top_by_class.json",st),className:"inline-flex items-center gap-1.5 rounded-lg bg-[#1c1c1c] border border-gray-700/60 px-3 py-1.5 text-xs text-gray-300 hover:bg-[#282828] transition-colors",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4"})," JSON"]})})]}),(0,a.jsx)("div",{className:"mt-3 overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full text-left text-xs md:text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-gray-700 bg-[#1c1c1c]",children:[(0,a.jsx)("th",{className:"p-2",children:"Class"}),(0,a.jsx)("th",{className:"p-2",children:"Best Player"}),(0,a.jsx)("th",{className:"p-2 text-center",children:"W/L"}),(0,a.jsx)("th",{className:"p-2 text-center",children:"Games"}),(0,a.jsx)("th",{className:"p-2 text-center",children:"Win Rate"})]})}),(0,a.jsxs)("tbody",{children:[st.map(e=>{let t=Math.round(120*e.winrate);return(0,a.jsxs)("tr",{className:"border-b border-gray-800 hover:bg-[#1c1c1c] transition-colors",children:[(0,a.jsx)("td",{className:"p-2 font-medium",children:e.klass}),(0,a.jsx)("td",{className:"p-2",children:e.player}),(0,a.jsxs)("td",{className:"p-2 text-center tabular-nums",children:[(0,a.jsx)("span",{className:"text-green-400",children:e.wins}),(0,a.jsx)("span",{className:"text-gray-400 mx-1",children:"/"}),(0,a.jsx)("span",{className:"text-red-400",children:e.losses})]}),(0,a.jsx)("td",{className:"p-2 text-center tabular-nums",children:e.total}),(0,a.jsx)("td",{className:"p-2 text-center",children:(0,a.jsxs)("span",{className:"inline-block rounded-full px-2 py-0.5 text-xs text-white font-medium",style:{backgroundColor:"hsl(".concat(t,", 60%, 45%)")},children:[(100*e.winrate).toFixed(0),"%"]})})]},e.klass)}),F&&0===st.length&&(0,a.jsx)(T,{rows:5,cols:5}),!F&&0===st.length&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{className:"p-6 text-center text-gray-500",colSpan:5,children:"No class data available yet."})})]})]})})]}),(0,a.jsxs)("div",{id:"all-decoded",className:"mt-6 rounded-lg bg-[#141414] p-4 border border-gray-800/60",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm font-semibold text-gray-200",children:["All Games",(0,a.jsxs)("span",{className:"ml-2 text-xs text-gray-500",children:["(","all"===H?$.length:tm.length,")"]}),"all"!==H&&(0,a.jsx)("span",{className:"ml-2 text-[10px] px-1.5 py-0.5 rounded ".concat("pro"===H?"bg-blue-900/50 text-blue-400":"mixed"===H?"bg-purple-900/50 text-purple-400":"bg-green-900/50 text-green-400"),children:"pro"===H?"Pro vs Pro":"mixed"===H?"Pro vs Beginner":"Beginner vs Beginner"})]}),$.length>0&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("button",{onClick:()=>sg("showdown_winrate_results.json",$),className:"inline-flex items-center gap-1.5 rounded-lg bg-[#1c1c1c] border border-gray-700/60 px-3 py-1.5 text-xs text-gray-300 hover:bg-[#282828] transition-colors",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4"})," JSON"]}),(0,a.jsxs)("button",{onClick:()=>sb("showdown_winrate_results.csv",$),className:"inline-flex items-center gap-1.5 rounded-lg bg-[#1c1c1c] border border-gray-700/60 px-3 py-1.5 text-xs text-gray-300 hover:bg-[#282828] transition-colors",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4"})," CSV"]})]})]}),(0,a.jsx)("div",{className:"mt-3 overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full text-left text-xs md:text-sm",children:[(0,a.jsx)("thead",{className:"sticky top-0 z-10",children:(0,a.jsxs)("tr",{className:"border-b border-gray-700 bg-[#1c1c1c]",children:[(0,a.jsxs)("th",{className:"p-2 w-24 cursor-pointer","aria-sort":"gameNumber"===tM.key?"asc"===tM.dir?"ascending":"descending":"none",onClick:()=>tP(e=>({key:"gameNumber",dir:"gameNumber"===e.key&&"asc"===e.dir?"desc":"asc"})),children:["Game # ","gameNumber"===tM.key?"asc"===tM.dir?"↑":"↓":""]}),(0,a.jsx)("th",{className:"p-2 w-40",children:"Game ID"}),(0,a.jsxs)("th",{className:"p-2 w-40 whitespace-nowrap cursor-pointer","aria-sort":"startedAt"===tM.key?"asc"===tM.dir?"ascending":"descending":"none",onClick:()=>tP(e=>({key:"startedAt",dir:"startedAt"===e.key&&"asc"===e.dir?"desc":"asc"})),children:["Started ","startedAt"===tM.key?"asc"===tM.dir?"↑":"↓":""]}),(0,a.jsx)("th",{className:"p-2 w-40 cursor-pointer",onClick:()=>tP(e=>({key:"winningPlayer",dir:"winningPlayer"===e.key&&"asc"===e.dir?"desc":"asc"})),children:"Winner"}),(0,a.jsx)("th",{className:"p-2 w-40 cursor-pointer",onClick:()=>tP(e=>({key:"losingPlayer",dir:"losingPlayer"===e.key&&"asc"===e.dir?"desc":"asc"})),children:"Loser"}),(0,a.jsx)("th",{className:"p-2 w-36",children:"Reason"}),(0,a.jsx)("th",{className:"p-2 w-16",children:"Tx"})]})}),(0,a.jsxs)("tbody",{children:[tR.map((e,t)=>(sh(e.metadata),(0,a.jsxs)(n.Fragment,{children:[(0,a.jsxs)("tr",{className:"border-b border-gray-800 hover:bg-[#1c1c1c] transition-colors cursor-pointer",onClick:()=>tZ(e.txHash),children:[(0,a.jsx)("td",{className:"p-2 tabular-nums",children:e.gameNumber}),(0,a.jsx)("td",{className:"p-2",children:e.gameId}),(0,a.jsx)("td",{className:"p-2",children:e.startedAt}),(0,a.jsx)("td",{className:"p-2 font-medium",children:e.winningPlayer}),(0,a.jsx)("td",{className:"p-2",children:e.losingPlayer}),(0,a.jsx)("td",{className:"p-2",children:e.endReason}),(0,a.jsxs)("td",{className:"p-2 flex items-center gap-2",children:[(0,a.jsx)("a",{className:"text-blue-600 underline",href:su(e.txHash,e.network),target:"_blank",rel:"noreferrer",children:"tx"}),(0,a.jsx)("button",{className:"rounded border px-1 py-0.5 text-[10px]",title:"Copy tx hash",onClick:()=>tI(e.txHash),children:et===e.txHash?(0,a.jsx)(g.Z,{className:"h-3 w-3"}):(0,a.jsx)(h.Z,{className:"h-3 w-3"})})]})]}),ec.has(e.txHash)&&(0,a.jsx)("tr",{className:"border-b border-gray-700 bg-[#1a1a1a]",children:(0,a.jsx)("td",{colSpan:7,className:"p-3 text-xs",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Winning classes:"})," ",e.winningClasses]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Losing classes:"})," ",e.losingClasses]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Length:"})," ",e.gameLength]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Game type:"})," ",e.gameType||"—"]})]})})})]},e.txHash+t))),0===$.length&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{className:"p-6 text-center text-gray-500",colSpan:7,children:F?(0,a.jsx)(T,{rows:10,cols:7}):"No rows for range ".concat(tQ,". Pick a different date range and click Compute.")})})]})]})}),$.length>tw&&(0,a.jsxs)("div",{className:"mt-3 flex items-center justify-center gap-2 text-xs",children:[(0,a.jsx)("button",{className:"rounded border px-2 py-1",onClick:()=>tf(e=>Math.max(1,e-1)),disabled:1===ty,children:"Prev"}),(0,a.jsxs)("div",{children:["Page ",ty," / ",Math.ceil($.length/tw)]}),(0,a.jsx)("button",{className:"rounded border px-2 py-1",onClick:()=>tf(e=>Math.min(Math.ceil($.length/tw),e+1)),disabled:ty>=Math.ceil($.length/tw),children:"Next"}),(0,a.jsxs)("select",{className:"ml-2 rounded border px-2 py-1 bg-[#1c1c1c] border-gray-700/60",value:tw,onChange:e=>tN(Number(e.target.value)),children:[(0,a.jsx)("option",{value:5,children:"5"}),(0,a.jsx)("option",{value:15,children:"15"}),(0,a.jsx)("option",{value:25,children:"25"}),(0,a.jsx)("option",{value:50,children:"50"}),(0,a.jsx)("option",{value:100,children:"100"})]}),(0,a.jsx)("input",{value:tk,onChange:e=>tC(e.target.value),onKeyDown:e=>{if("Enter"===e.key){let e=parseInt(tk||"1",10);isNaN(e)||tf(Math.min(Math.max(1,e),Math.ceil($.length/tw)))}},className:"ml-2 w-16 rounded border px-2 py-1 bg-[#1c1c1c] border-gray-700/60",placeholder:"Go"})]})]})]})]}),(0,a.jsx)("div",{className:"mt-4 text-xs text-gray-500",children:"Daily cache on the server makes historical queries instant; today is fetched incrementally."}),!eG&&t0.length>0&&(()=>{let e=Math.max(...t0.map(e=>e.count),1);return(0,a.jsxs)("div",{className:"mt-6 rounded-lg bg-[#141414] p-3 sm:p-4 border border-gray-800/60",children:[(0,a.jsxs)("div",{className:"text-sm font-semibold text-gray-200 mb-3 sm:mb-4",children:["Daily Active Users",(0,a.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"(unique players per day)"})]}),(0,a.jsx)("div",{ref:A,className:"overflow-x-auto pb-2 -mx-1",children:(()=>{let t=t0.length,s=t<=7?40:t<=15?32:t<=30?24:t<=60?18:14,r=s<=18?1:3,l=t<=10?1:t<=20?2:t<=40?3:t<=80?5:7,n=t*(s+r);return(0,a.jsx)("div",{className:"flex items-end",style:{height:200,minWidth:Math.max(n,280),gap:r},children:t0.map((r,n)=>{let i=Math.max(r.count/e*160,3),o=r.day===new Date().toISOString().slice(0,10);return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-end",style:{width:s,minWidth:s,height:"100%"},children:[(0,a.jsx)("div",{className:"text-[9px] sm:text-[10px] text-gray-300 mb-0.5 font-medium leading-none",style:{flexShrink:0},children:r.count}),(0,a.jsx)("div",{className:"rounded-t transition-all ".concat(o?"bg-red-500":"bg-blue-500 hover:bg-blue-400"),style:{height:i,width:"80%",flexShrink:0,minHeight:3},title:"".concat(r.day,": ").concat(r.count," players")}),(0,a.jsx)("div",{className:"text-[8px] sm:text-[10px] mt-1 text-gray-400 whitespace-nowrap leading-none ".concat(n%l==0||n===t-1||o?"":"invisible"),style:{flexShrink:0},children:r.day.slice(5)})]},r.day)})})})()}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 text-[10px] sm:text-xs text-gray-500 border-t border-gray-800 pt-2 sm:pt-3",children:[(0,a.jsxs)("div",{children:["Total: ",t0.length,"d"]}),(0,a.jsxs)("div",{children:["Avg: ",(t0.reduce((e,t)=>e+t.count,0)/t0.length).toFixed(1),"/day"]}),(0,a.jsxs)("div",{children:["Peak: ",e]})]})]})})(),eC.length>0&&(()=>{let e=eC.map(e=>({day:e.day,amount:Number(BigInt(e.volume)/0xde0b6b3a7640000n)})),t=Math.max(...e.map(e=>e.amount),1),s=e.length,r=s<=7?44:s<=15?34:s<=30?26:s<=60?20:16,l=r+2,n=new Date().toISOString().slice(0,10),i=-999,o=e.map((e,s)=>{let n=Math.max(e.amount/t*150,3),o=s*l+r/2,c="$".concat(e.amount.toLocaleString()),d=5.5*c.length+2,x=o-d/2;return x<i+4?null:(i=x+d,(0,a.jsx)("div",{style:{position:"absolute",left:o,transform:"translateX(-50%)",top:168-n-14,whiteSpace:"nowrap"},className:"text-[8px] sm:text-[9px] text-gray-300 font-medium leading-none",children:c},e.day+"-val"))}),c=-999,d=e.map((e,t)=>{let s=e.day===n,i=t*l+r/2,o=i-14;return!s&&o<c+3?null:(c=o+28,(0,a.jsx)("div",{style:{position:"absolute",left:i,transform:"translateX(-50%)",top:3,whiteSpace:"nowrap"},className:"text-[8px] leading-none ".concat(s?"text-gray-200 font-medium":"text-gray-500"),children:e.day.slice(5)},e.day+"-date"))});return(0,a.jsxs)("div",{className:"mt-6 rounded-lg bg-[#141414] p-3 sm:p-4 border border-gray-800/60",children:[(0,a.jsxs)("div",{className:"text-sm font-semibold text-gray-200 mb-3 sm:mb-4",children:["Daily Volume",(0,a.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"(USDM wagered per day)"})]}),(0,a.jsx)("div",{className:"overflow-x-auto pb-1 -mx-1",ref:e=>{e&&setTimeout(()=>e.scrollTo({left:e.scrollWidth,behavior:"auto"}),50)},children:(0,a.jsxs)("div",{style:{minWidth:Math.max(s*l,280)},children:[(0,a.jsxs)("div",{className:"relative",style:{height:168},children:[e.map((e,s)=>{let i=Math.max(e.amount/t*150,3),o=e.day===n;return(0,a.jsx)("div",{className:"rounded-t absolute transition-all ".concat(o?"bg-red-500":"bg-emerald-500 hover:bg-emerald-400"),style:{left:s*l+.1*r,width:.8*r,top:168-i,height:i},title:"".concat(e.day,": $").concat(e.amount.toLocaleString())},e.day)}),o]}),(0,a.jsx)("div",{className:"relative",style:{height:18},children:d})]})}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 text-[10px] sm:text-xs text-gray-500 border-t border-gray-800 pt-2 sm:pt-3",children:[(0,a.jsxs)("div",{children:["Total: ",k(eL)]}),(0,a.jsxs)("div",{children:["Avg: $",e.length>0?Math.round(e.reduce((e,t)=>e+t.amount,0)/e.length).toLocaleString():0,"/day"]}),(0,a.jsxs)("div",{children:["Peak: $",t.toLocaleString()]})]})]})})(),eG&&(0,a.jsxs)("div",{className:"mt-6 rounded-lg bg-[#141414] p-4 border border-gray-800/60",children:[(0,a.jsxs)("div",{className:"text-sm font-semibold text-gray-200 mb-4",children:["Player P&L Explorer",(0,a.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"(search any player)"})]}),(0,a.jsx)("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)("input",{type:"text",value:eY,onChange:e=>eq(e.target.value),placeholder:"Search by nickname or wallet...",className:"w-full rounded bg-[#1c1c1c] border border-gray-700 px-3 py-2 text-sm text-gray-200 placeholder-gray-500 focus:border-red-600 focus:outline-none"}),eY.trim()&&(0,a.jsxs)("div",{className:"absolute z-20 top-full left-0 right-0 mt-1 rounded bg-[#1e1e1e] border border-gray-700 max-h-60 overflow-y-auto shadow-lg",children:[0===t3.length&&(0,a.jsx)("div",{className:"px-3 py-2 text-xs text-gray-500",children:"No players found"}),t3.map(e=>(0,a.jsxs)("button",{onClick:()=>{eq(""),t8(e.wallet,e.nick)},className:"w-full text-left px-3 py-2 hover:bg-[#282828] transition-colors flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-200",children:e.nick}),(0,a.jsx)("span",{className:"text-[10px] text-gray-500 font-mono",children:C(e.wallet)})]},e.wallet))]})]})}),e4&&(0,a.jsx)("div",{className:"text-sm text-gray-400 py-8 text-center",children:"Loading player data..."}),e3&&(0,a.jsx)("div",{className:"text-sm text-red-400 py-4 text-center",children:e3}),e1&&eX&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mb-4 pb-3 border-b border-gray-800",children:[(0,a.jsx)("div",{className:"text-base font-semibold text-gray-200",children:eQ||C(eX)}),(0,a.jsx)("a",{className:"text-[10px] text-gray-500 font-mono hover:text-gray-300",href:"https://megaeth.blockscout.com/address/".concat(eX),target:"_blank",rel:"noreferrer",children:C(eX)}),t2[eX]&&(0,a.jsx)("span",{className:"text-[10px] text-blue-400/70 bg-blue-900/20 px-2 py-0.5 rounded",children:t2[eX]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-4",children:[(0,a.jsxs)("div",{className:"rounded bg-[#1c1c1c] p-3 border border-gray-800/50",children:[(0,a.jsx)("div",{className:"text-[10px] text-gray-500 uppercase tracking-wide",children:"Won"}),(0,a.jsx)("div",{className:"text-lg font-bold text-green-400",children:k(e1.totals.won)})]}),(0,a.jsxs)("div",{className:"rounded bg-[#1c1c1c] p-3 border border-gray-800/50",children:[(0,a.jsx)("div",{className:"text-[10px] text-gray-500 uppercase tracking-wide",children:"Lost"}),(0,a.jsx)("div",{className:"text-lg font-bold text-red-400",children:k(e1.totals.lost)})]}),(0,a.jsxs)("div",{className:"rounded bg-[#1c1c1c] p-3 border border-gray-800/50",children:[(0,a.jsx)("div",{className:"text-[10px] text-gray-500 uppercase tracking-wide",children:"Net P&L"}),(0,a.jsx)("div",{className:"text-lg font-bold ".concat(BigInt(e1.totals.net)>=0n?"text-green-400":"text-red-400"),children:k(e1.totals.net,!0)})]}),(0,a.jsxs)("div",{className:"rounded bg-[#1c1c1c] p-3 border border-gray-800/50",children:[(0,a.jsx)("div",{className:"text-[10px] text-gray-500 uppercase tracking-wide",children:"Games"}),(0,a.jsx)("div",{className:"text-lg font-bold text-gray-200",children:e1.totals.txs})]})]}),e1.days.length>0&&(()=>{var e;let t=Math.max(...e1.days.map(e=>Math.abs(Number(BigInt(e.net)/0xde0b6b3a7640000n))),1),s=e1.days.length,r=s<=7?40:s<=15?32:s<=30?24:s<=60?18:14,l=r+2,i=s*l,o=new Date().toISOString().slice(0,10),c=-999,d=e1.days.map((e,t)=>{let s=e.day===o,n=t*l+r/2,i=n-14;return!s&&i<c+3?null:(c=i+28,(0,a.jsx)("div",{style:{position:"absolute",left:n,transform:"translateX(-50%)",top:3,whiteSpace:"nowrap"},className:"text-[8px] leading-none ".concat(s?"text-gray-200 font-medium":"text-gray-500"),children:e.day.slice(5)},e.day+"-dl"))});return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-400 mb-2",children:"Daily Net P&L"}),(0,a.jsx)("div",{ref:e6,className:"overflow-x-auto pb-1 -mx-1",children:(0,a.jsxs)("div",{style:{minWidth:Math.max(i,280)},children:[(0,a.jsxs)("div",{className:"relative",style:{height:128},children:[(0,a.jsx)("div",{className:"absolute left-0 right-0 border-t border-gray-700/40",style:{top:64}}),e1.days.map((e,s)=>{var i,c;let d=Number(BigInt(e.net)/0xde0b6b3a7640000n),x=d>=0,m=Math.max(Math.abs(d)/t*50,2),g=e.day===o,h=s*l,u=x?g?"#22c55e":"#16a34a":g?"#ef4444":"rgba(239,68,68,0.7)",p=d>0?"+$".concat(d):d<0?"-$".concat(Math.abs(d)):"",b=h+.1*r,y=.8*r;if(!x)return(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)("div",{className:"rounded-b absolute",style:{background:u,left:b,width:y,top:64,height:m},title:"".concat(e.day,": ").concat(p," (").concat(null!==(c=e.games)&&void 0!==c?c:e.txs," games)")}),p&&(0,a.jsx)("div",{className:"text-[8px] text-red-400 leading-none text-center absolute",style:{width:r,left:h,top:64+m+2,overflow:"hidden"},children:p})]},e.day);{let t=64-m;return(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)("div",{className:"rounded-t absolute",style:{background:u,left:b,width:y,top:t,height:m},title:"".concat(e.day,": ").concat(p," (").concat(null!==(i=e.games)&&void 0!==i?i:e.txs," games)")}),p&&(0,a.jsx)("div",{className:"text-[8px] text-green-400 leading-none text-center absolute",style:{width:r,left:h,top:t-12,overflow:"hidden"},children:p})]},e.day)}})]}),(0,a.jsx)("div",{className:"relative",style:{height:18},children:d})]})}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 text-[10px] sm:text-xs text-gray-500 border-t border-gray-800 pt-2 mt-1",children:[(0,a.jsxs)("div",{children:[s," days active"]}),(0,a.jsxs)("div",{children:["Avg: ",k((BigInt(e1.totals.net)/BigInt(Math.max(s,1))).toString(),!0),"/day"]}),(0,a.jsxs)("div",{children:[null!==(e=e1.totals.games)&&void 0!==e?e:e1.totals.txs," total games"]})]})]})})()]}),!e4&&!e1&&!e3&&(0,a.jsx)("div",{className:"text-sm text-gray-500 py-8 text-center",children:"Search for a player above to see their money match P&L breakdown"})]})]}),et&&(0,a.jsxs)("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-30 rounded-full bg-gray-100 text-gray-900 px-3 py-1 text-xs shadow",children:["Copied tx: ",et.slice(0,10),"…"]}),(0,a.jsx)(P,{visible:ea})]})}function P(e){let{visible:t}=e;return t?(0,a.jsx)("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-6 right-6 z-20 rounded-full bg-[#1c1c1c] text-white p-3 shadow-lg border border-gray-700/60 hover:bg-[#282828] transition-colors",title:"Back to top",children:(0,a.jsx)(x.Z,{className:"h-4 w-4"})}):null}function T(e){let{rows:t,cols:s}=e,r=Array.from({length:t}),l=Array.from({length:s});return(0,a.jsx)(a.Fragment,{children:r.map((e,t)=>(0,a.jsx)("tr",{className:"animate-pulse",children:l.map((e,t)=>(0,a.jsx)("td",{className:"p-2",children:(0,a.jsx)("div",{className:"h-3 rounded bg-gray-700"})},t))},t))})}}},function(e){e.O(0,[427,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);