(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(6209)}])},6209:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return M}});var r=s(5893),a=s(9008),l=s.n(a),n=s(7294),i=s(1163),o=s(1891),c=s(8088),d=s(5197),x=s(5482),m=s(6090),g=s(3552),h=s(3785),u=s(6582);let p="2025-07-25",y="2026-01-13",b=e=>{if(!e)return"";let t=e.trim(),s=t.indexOf("#");return -1===s?t:t.slice(0,s)};function v(e){let t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(s,"-").concat(r)}function j(e){if(!e)return null;let t=e.trim(),s=/^([0-9]{4})-([0-9]{2})-([0-9]{2})$/.exec(t);return s?{y:Number(s[1]),m:Number(s[2]),d:Number(s[3])}:(s=/^([0-9]{2})\.([0-9]{2})\.([0-9]{4})$/.exec(t))?{y:Number(s[3]),m:Number(s[2]),d:Number(s[1])}:(s=/^([0-9]{1,2})\/([0-9]{1,2})\/([0-9]{4})$/.exec(t))?{y:Number(s[3]),m:Number(s[1]),d:Number(s[2])}:null}function w(e){let t=j(e);if(!t)return e||"";let s=new Date(t.y,t.m-1,t.d);if(isNaN(s.getTime()))return e||"";let r=s.toLocaleString("en-US",{month:"short"}),a=String(t.y).slice(-2);return"".concat(r," ").concat(t.d," ").concat(a)}function N(e){let t=j(e);if(!t)return;let s=Date.UTC(t.y,t.m-1,t.d,0,0,0);if(!isNaN(s))return Math.floor(s/1e3)}function f(e){let t=j(e);if(!t)return;let s=Date.UTC(t.y,t.m-1,t.d,23,59,59);if(!isNaN(s))return Math.floor(s/1e3)}function k(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return"$0";let s=BigInt(e),r=Number(((s<0n?-s:s)+0x6f05b59d3b20000n)/0xde0b6b3a7640000n).toLocaleString("en-US");return"".concat(s<0n?"-":t&&s>0n?"+":"","$").concat(r)}function C(e){if(!e)return"";let t=e.trim();return t.length<=10?t:"".concat(t.slice(0,6),"…").concat(t.slice(-4))}let S=[{address:"0x9B9595555B77c5aDd018B2E52F5eD7e9e34a28FA",prize:3300,display:"1 ETH (~$3,300)",rank:1},{address:"0xEf71Cf2F7E246783E8c660ab70E59629E952b5be",prize:300,display:"$300",rank:2},{address:"0x40c1EAA23DDD6973330889B30bcE05Fa21E9B87D",prize:200,display:"$200",rank:3},{address:"0x64A6cE1145E23c9CaF9b5dA2BE3a13C9d8945B8f",prize:100,display:"$100",rank:4},{address:"0x11B72e0C989bE9130cEFb10832fEFB4F49CdcDd8",prize:50,display:"$50",rank:5},{address:"0x910D0EFd8E2D831af89FB9eC60D22B60E6f34508",prize:50,display:"$50",rank:6},{address:"0x2DdF9F00CD543F54421CEf64eB29C408b49D679F",prize:50,display:"$50",rank:7},{address:"0x3Dc0ebb9bACe78124e2168F3339d04B18AF1cd88",prize:50,display:"$50",rank:8}],P=S.reduce((e,t)=>e+t.prize,0);function M(){let e=(0,i.useRouter)(),[t,s]=(0,n.useState)(y),[a,j]=(0,n.useState)(""),[M,B]=(0,n.useState)("barry"),D=(0,n.useRef)(!1),[E,A]=(0,n.useState)(!1),[_,U]=(0,n.useState)(null),[F,R]=(0,n.useState)(null),[O,Z]=(0,n.useState)([]),[I,V]=(0,n.useState)(!1),[$,H]=(0,n.useState)("all"),[z,W]=(0,n.useState)([]),[G,J]=(0,n.useState)({key:"total",dir:"desc"}),[Y,q]=(0,n.useState)(!1),[X,K]=(0,n.useState)(!1),[Q,ee]=(0,n.useState)(null),[et,es]=(0,n.useState)(!1),[er,ea]=(0,n.useState)([]),[el,en]=(0,n.useState)(new Set),[ei,eo]=(0,n.useState)(new Set),[ec,ed]=(0,n.useState)(null),[ex,em]=(0,n.useState)(null),[eg,eh]=(0,n.useState)(""),[eu,ep]=(0,n.useState)([]),[ey,eb]=(0,n.useState)(!1),[ev,ej]=(0,n.useState)(null),[ew,eN]=(0,n.useState)(null),[ef,ek]=(0,n.useState)([]),[eC,eS]=(0,n.useState)("0"),[eP,eM]=(0,n.useState)(null),[eT,eL]=(0,n.useState)(!1),[eB,eD]=(0,n.useState)(!1),[eE,eA]=(0,n.useState)("idle");(0,n.useEffect)(()=>{try{"undefined"!=typeof document&&document.documentElement.classList.add("dark");let e=localStorage.getItem("recentPlayers");e&&ea(JSON.parse(e))}catch(e){}},[]),(0,n.useEffect)(()=>{0!==eu.length||ey||tT()},[!0]),(0,n.useEffect)(()=>{if(D.current||!e.isReady)return;let t=e.query,r="string"==typeof t.start?t.start:void 0,a="string"==typeof t.end?t.end:void 0,l="string"==typeof t.player?t.player:void 0,n="string"==typeof t.only?t.only:void 0;"string"==typeof t.theme&&t.theme;let i="string"==typeof t.compare?t.compare:void 0;r&&s(r),a&&j(a),l&&B(l),"1"===n&&V(!0),i&&eh(i);let o="string"==typeof t.share?t.share:void 0;o&&(eL(!0),fetch("/api/share?id=".concat(encodeURIComponent(o))).then(e=>e.json()).then(e=>{if(!e.ok)throw Error(e.error||"Failed to load snapshot");let t=e.data||{};t.params&&(t.params.start&&s(t.params.start),void 0!==t.params.end&&j(t.params.end),t.params.player&&B(t.params.player),"1"===t.params.only&&V(!0),t.params.compare&&eh(t.params.compare)),Z(t.rows||[]),ed(t.aggByClass||null),em(t.aggLastUpdate||null),R(null),U(null)}).catch(e=>U((null==e?void 0:e.message)||String(e))).finally(()=>eL(!1))),D.current=!0},[e.isReady]),(0,n.useEffect)(()=>{if(!D.current)return;let s={};t&&(s.start=t),a&&(s.end=a),M&&(s.player=M),I&&(s.only="1"),eg.trim()&&(s.compare=eg.trim()),e.replace({pathname:e.pathname,query:s},void 0,{shallow:!0})},[t,a,M,eg,I]);let e_=(0,n.useMemo)(()=>{let e={};for(let l of O){var t,s,r,a;let n=(null===(s=l.winningPlayer)||void 0===s?void 0:null===(t=s.trim)||void 0===t?void 0:t.call(s).toLowerCase())||"",i=(null===(a=l.losingPlayer)||void 0===a?void 0:null===(r=a.trim)||void 0===r?void 0:r.call(a).toLowerCase())||"";n&&(e[n]=(e[n]||0)+1),i&&(e[i]=(e[i]||0)+1)}return e},[O]),eU=(0,n.useMemo)(()=>"all"===$?O:O.filter(e=>{var t,s,r,a;let l=(null===(s=e.winningPlayer)||void 0===s?void 0:null===(t=s.trim)||void 0===t?void 0:t.call(s).toLowerCase())||"",n=(null===(a=e.losingPlayer)||void 0===a?void 0:null===(r=a.trim)||void 0===r?void 0:r.call(a).toLowerCase())||"",i=e_[l]||0,o=e_[n]||0,c=i>=20,d=o>=20;return"pro"===$?c&&d:"mixed"===$?c&&!d||!c&&d:!c&&!d}),[O,$,e_]),eF=(0,n.useMemo)(()=>eU,[eU]),eR=(0,n.useMemo)(()=>{let e=M.trim().toLowerCase(),t=eF.filter(t=>{var s,r;return(null===(r=t.winningPlayer)||void 0===r?void 0:null===(s=r.trim)||void 0===s?void 0:s.call(r).toLowerCase())===e}),s=eF.filter(t=>{var s,r;return(null===(r=t.losingPlayer)||void 0===r?void 0:null===(s=r.trim)||void 0===s?void 0:s.call(r).toLowerCase())===e}),r=t.length,a=s.length,l=r+a,n=new Map;for(let e of t){var i;let t=(null!==(i=e.winningClasses)&&void 0!==i?i:"").trim();t&&n.set(t,(n.get(t)||0)+1)}let o=null,c=0;for(let[e,t]of n.entries())t>c&&(o=e,c=t);let d=r?c/r:0;return{wins:r,losses:a,total:l,winrate:l?r/l:0,dominantClass:o,dominantClassPct:d}},[eF,M]),eO=(0,n.useMemo)(()=>{let e=0;for(let t of O){let s=function(e){if(!e)return null;let t=e.trim(),s=/^([0-9]{4})-([0-9]{2})-([0-9]{2})[ T]([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\s*(?:UTC|Z))?$/i.exec(t);if(s)return Math.floor(Date.UTC(Number(s[1]),Number(s[2])-1,Number(s[3]),Number(s[4]),Number(s[5]),Number(s[6]))/1e3);let r=Date.parse(t.replace(" ","T").replace(/\s*UTC$/i,"Z"));return isNaN(r)?null:Math.floor(r/1e3)}(t.startedAt);s&&s>e&&(e=s)}return e?new Date(1e3*e).toLocaleString():null},[O]),eZ=(0,n.useMemo)(()=>{let e=f(a),t=new Date,s=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())/1e3,r=new Date((s-1)*1e3);return eB||e&&!(e>=s)?eO||"latest cached block":r.toLocaleString()},[eO,a,eB]),eI=(0,n.useMemo)(()=>{let e=M.trim().toLowerCase();return eU.filter(t=>{var s,r,a,l;return(null===(r=t.winningPlayer)||void 0===r?void 0:null===(s=r.trim)||void 0===s?void 0:s.call(r).toLowerCase())===e||(null===(l=t.losingPlayer)||void 0===l?void 0:null===(a=l.trim)||void 0===a?void 0:a.call(l).toLowerCase())===e}).map(t=>{var s,r,a,l,n,i;return{...t,result:(()=>{var s,r;let a=(null===(r=t.winningPlayer)||void 0===r?void 0:null===(s=r.trim)||void 0===s?void 0:s.call(r).toLowerCase())===e,l=(t.endReason||"").toLowerCase().includes("timeout"),n=a?"Win":"Loss";return l?n+" Timeout":n})(),opponent:(null===(r=t.winningPlayer)||void 0===r?void 0:null===(s=r.trim)||void 0===s?void 0:s.call(r).toLowerCase())===e?t.losingPlayer:t.winningPlayer,playerClasses:(null===(l=t.winningPlayer)||void 0===l?void 0:null===(a=l.trim)||void 0===a?void 0:a.call(l).toLowerCase())===e?t.winningClasses:t.losingClasses,opponentClasses:(null===(i=t.winningPlayer)||void 0===i?void 0:null===(n=i.trim)||void 0===n?void 0:n.call(i).toLowerCase())===e?t.losingClasses:t.winningClasses}}).sort((e,t)=>t.blockNumber-e.blockNumber)},[eU,M]);(0,n.useMemo)(()=>{let e=eg.trim().toLowerCase();if(!e)return null;let t=eF.filter(t=>{var s,r;return(null===(r=t.winningPlayer)||void 0===r?void 0:null===(s=r.trim)||void 0===s?void 0:s.call(r).toLowerCase())===e}),s=eF.filter(t=>{var s,r;return(null===(r=t.losingPlayer)||void 0===r?void 0:null===(s=r.trim)||void 0===s?void 0:s.call(r).toLowerCase())===e}),r=t.length,a=s.length,l=r+a;return{wins:r,losses:a,total:l,winrate:l?r/l:0}},[eF,eg]),(0,n.useMemo)(()=>{let e=M.trim().toLowerCase(),t=eg.trim().toLowerCase();if(!e||!t)return null;let s=0,r=0;for(let o of eF){var a,l,n,i;let c=null===(l=o.winningPlayer)||void 0===l?void 0:null===(a=l.trim)||void 0===a?void 0:a.call(l).toLowerCase(),d=null===(i=o.losingPlayer)||void 0===i?void 0:null===(n=i.trim)||void 0===n?void 0:n.call(i).toLowerCase();c===e&&d===t?s++:c===t&&d===e&&r++}return{p1Wins:s,p2Wins:r,total:s+r}},[eF,M,eg]);let[eV,e$]=(0,n.useState)(1),[eH,ez]=(0,n.useState)(1),[eW,eG]=(0,n.useState)(5),[eJ,eY]=(0,n.useState)(""),[eq,eX]=(0,n.useState)(""),[eK,eQ]=(0,n.useState)({key:"startedAt",dir:"desc"}),[e0,e1]=(0,n.useState)({key:"startedAt",dir:"desc"}),[e2,e5]=(0,n.useState)({key:"winrate",dir:"desc"}),[e4,e3]=(0,n.useState)({key:"total",dir:"desc"}),e8=(0,n.useMemo)(()=>{let e=O.slice();return e.sort((e,t)=>{let s=eK.key,r=e[s],a=t[s];if("startedAt"===s){let e=e=>{if(!e)return 0;let t=/^([0-9]{4})-([0-9]{2})-([0-9]{2})[ T]([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\s*(?:UTC|Z))?$/i.exec(e.trim());if(t)return Math.floor(Date.UTC(Number(t[1]),Number(t[2])-1,Number(t[3]),Number(t[4]),Number(t[5]),Number(t[6]))/1e3);let s=Date.parse(e.replace(" ","T").replace(/\s*UTC$/i,"Z"));return isNaN(s)?0:Math.floor(s/1e3)};r=e(r),a=e(a)}let l=r<a?-1:r>a?1:0;return"asc"===eK.dir?l:-l}),e},[O,eK]),e6=(0,n.useMemo)(()=>{let e=(eV-1)*eW;return e8.slice(e,e+eW)},[e8,eV,eW]),e9=(0,n.useMemo)(()=>{let e=eI.slice();return e.sort((e,t)=>{let s=e0.key,r=e[s],a=t[s];if("startedAt"===s){let e=e=>{if(!e)return 0;let t=/^([0-9]{4})-([0-9]{2})-([0-9]{2})[ T]([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\s*(?:UTC|Z))?$/i.exec(e.trim());if(t)return Math.floor(Date.UTC(Number(t[1]),Number(t[2])-1,Number(t[3]),Number(t[4]),Number(t[5]),Number(t[6]))/1e3);let s=Date.parse(e.replace(" ","T").replace(/\s*UTC$/i,"Z"));return isNaN(s)?0:Math.floor(s/1e3)};r=e(r),a=e(a)}let l=r<a?-1:r>a?1:0;return"asc"===e0.dir?l:-l}),e},[eI,e0]),e7=(0,n.useMemo)(()=>{let e=(eH-1)*eW;return e9.slice(e,e+eW)},[e9,eH,eW]);(0,n.useEffect)(()=>{e$(1)},[O,eW]),(0,n.useEffect)(()=>{ez(1)},[eI,eW]),(0,n.useEffect)(()=>{let e=e=>{var t,s;(null===(t=e.target)||void 0===t?void 0:t.tagName)!=="INPUT"&&(null===(s=e.target)||void 0===s?void 0:s.tagName)!=="TEXTAREA"&&("ArrowRight"===e.key&&e$(e=>Math.min(Math.ceil(O.length/eW)||1,e+1)),"ArrowLeft"===e.key&&e$(e=>Math.max(1,e-1)))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[O,eW]),(0,n.useEffect)(()=>{let e=()=>es(window.scrollY>400);return window.addEventListener("scroll",e),e(),()=>window.removeEventListener("scroll",e)},[]);let te=async e=>{try{await navigator.clipboard.writeText(e),ee(e),setTimeout(()=>ee(null),1200)}catch(e){}},tt=e=>{en(t=>{let s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s})},ts=e=>{eo(t=>{let s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s})},tr=(0,n.useMemo)(()=>{let e=M.trim().toLowerCase(),t=new Map;for(let o of eF){var s,r,a,l,n,i;if((null===(r=o.winningPlayer)||void 0===r?void 0:null===(s=r.trim)||void 0===s?void 0:s.call(r).toLowerCase())===e){let e=(null!==(n=o.winningClasses)&&void 0!==n?n:"").trim()||"(unknown)",s=t.get(e)||{wins:0,losses:0,total:0};s.wins+=1,s.total+=1,t.set(e,s)}else if((null===(l=o.losingPlayer)||void 0===l?void 0:null===(a=l.trim)||void 0===a?void 0:a.call(l).toLowerCase())===e){let e=(null!==(i=o.losingClasses)&&void 0!==i?i:"").trim()||"(unknown)",s=t.get(e)||{wins:0,losses:0,total:0};s.losses+=1,s.total+=1,t.set(e,s)}}let o=Array.from(t.entries()).map(e=>{let[t,s]=e;return{klass:t,...s,winrate:s.total?s.wins/s.total:0}});return o.sort((e,t)=>{let s=e4.key,r=e4.dir,a=e[s]<t[s]?-1:e[s]>t[s]?1:0;return"asc"===r?a:-a}),o},[eF,M,e4]),ta=(0,n.useMemo)(()=>{let e=new Map;for(let r of eF){var t,s;let a=(null!==(t=r.winningClasses)&&void 0!==t?t:"").trim(),l=(null!==(s=r.losingClasses)&&void 0!==s?s:"").trim();if(a){let t=e.get(a)||{wins:0,losses:0,total:0};t.wins+=1,t.total+=1,e.set(a,t)}if(l){let t=e.get(l)||{wins:0,losses:0,total:0};t.losses+=1,t.total+=1,e.set(l,t)}}let r=Array.from(e.entries()).map(e=>{let[t,s]=e;return{klass:t,...s,winrate:s.total?s.wins/s.total:0}});return r.sort((e,t)=>{let s=e2.key,r=e2.dir,a=e[s]<t[s]?-1:e[s]>t[s]?1:0;return"asc"===r?a:-a}),r},[eF,e2]);function tl(e){if(!e)return null;let t=/^([0-9]{4})-([0-9]{2})-([0-9]{2})[ T]([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\s*(?:UTC|Z))?$/i.exec(e.trim());if(t)return Math.floor(Date.UTC(+t[1],+t[2]-1,+t[3],+t[4],+t[5],+t[6])/1e3);let s=Date.parse(e.replace(" ","T").replace(/\s*UTC$/i,"Z"));return isNaN(s)?null:Math.floor(s/1e3)}let tn=(0,n.useMemo)(()=>{let e=new Set;for(let t of eF){let s=tl(t.startedAt);null!=s&&e.add(Math.floor(s/86400))}return Array.from(e).sort((e,t)=>e-t)},[eF]),ti=(0,n.useMemo)(()=>{let e=M.trim().toLowerCase(),t=new Set;for(let n of eF){var s,r,a,l;if((null===(r=n.winningPlayer)||void 0===r?void 0:null===(s=r.trim)||void 0===s?void 0:s.call(r).toLowerCase())!==e&&(null===(l=n.losingPlayer)||void 0===l?void 0:null===(a=l.trim)||void 0===a?void 0:a.call(l).toLowerCase())!==e)continue;let i=tl(n.startedAt);null!=i&&t.add(Math.floor(i/86400))}return Array.from(t).sort((e,t)=>e-t)},[eF,M]);function to(e,t,s){let r=new Map;s.forEach((e,t)=>r.set(e,t));let a=new Map(t.map(e=>[e,Array(s.length).fill(0)]));for(let t of e){let e=tl(t.startedAt);if(null==e)continue;let s=Math.floor(e/86400),l=r.get(s);if(null==l)continue;let n=(t.winningClasses||"").trim(),i=(t.losingClasses||"").trim();n&&a.has(n)&&(a.get(n)[l]+=1),i&&a.has(i)&&(a.get(i)[l]+=1)}return a}let tc=(0,n.useMemo)(()=>to(eF,ta.map(e=>e.klass),tn),[eF,ta,tn]),td=(0,n.useMemo)(()=>{let e=M.trim().toLowerCase();return eF.filter(t=>{var s,r,a,l;return(null===(r=t.winningPlayer)||void 0===r?void 0:null===(s=r.trim)||void 0===s?void 0:s.call(r).toLowerCase())===e||(null===(l=t.losingPlayer)||void 0===l?void 0:null===(a=l.trim)||void 0===a?void 0:a.call(l).toLowerCase())===e})},[eF,M]),tx=(0,n.useMemo)(()=>to(td,tr.map(e=>e.klass),ti),[td,tr,ti]);function tm(e){let{data:t}=e,s=Math.max(1,...t),a=t.length>1?60/(t.length-1):60,l=t.map((e,t)=>"".concat(t*a,",").concat(14-e/s*14)).join(" ");return(0,r.jsx)("svg",{width:60,height:14,"aria-hidden":"true",children:(0,r.jsx)("polyline",{points:l,fill:"none",stroke:"currentColor",strokeWidth:"1",opacity:.6})})}(0,n.useEffect)(()=>{if(!I)return;let e=M.trim().toLowerCase();if(!e)return;let t=new Map;for(let n of eF){var s,r,a,l;let i=(null===(r=n.winningPlayer)||void 0===r?void 0:null===(s=r.trim)||void 0===s?void 0:s.call(r).toLowerCase())===e,o=(null===(l=n.losingPlayer)||void 0===l?void 0:null===(a=l.trim)||void 0===a?void 0:a.call(l).toLowerCase())===e;if(!i&&!o)continue;let c=((i?n.winningClasses:n.losingClasses)||"").trim();c&&c.includes("/")&&t.set(c,(t.get(c)||0)+1)}let n=null,i=0;for(let[e,s]of t.entries())s>i&&(n=e,i=s);if(!n){W([]);return}let o=n.split("/").map(e=>e.trim()).filter(Boolean);if(2!==o.length){W([]);return}W(o)},[eF,M,I,t,a]);let tg=(0,n.useMemo)(()=>{let e=a||"",s=w(t||p),r=e?w(e):"latest";return"".concat(s," → ").concat(r)},[t,a]),th=(0,n.useMemo)(()=>{var e,t,s,r,a,l,n;let i=M.trim().toLowerCase(),o=I?eF.filter(e=>{var t,s,r,a;return(null===(s=e.winningPlayer)||void 0===s?void 0:null===(t=s.trim)||void 0===t?void 0:t.call(s).toLowerCase())===i||(null===(a=e.losingPlayer)||void 0===a?void 0:null===(r=a.trim)||void 0===r?void 0:r.call(a).toLowerCase())===i}):eF,c=new Set,d={};for(let r of o){let a=(null!==(e=r.winningClasses)&&void 0!==e?e:"").trim(),l=(null!==(t=r.losingClasses)&&void 0!==t?t:"").trim();a&&l&&a.includes("/")&&l.includes("/")&&(c.add(a),c.add(l),d[a]||(d[a]={}),d[a][l]=(null!==(s=d[a][l])&&void 0!==s?s:0)+1)}let x=Array.from(c).sort(),m={};for(let e of x){let t=[];for(let s of x){if(e===s)continue;let i=null!==(l=null===(r=d[e])||void 0===r?void 0:r[s])&&void 0!==l?l:0,o=null!==(n=null===(a=d[s])||void 0===a?void 0:a[e])&&void 0!==n?n:0,c=i+o;0!==c&&t.push({opponent:s,wins:i,losses:o,total:c,winRate:i/c})}t.sort((e,t)=>t.total-e.total),m[e]=t}return{classes:x,matchups:m}},[eF,M,I]),tu=(0,n.useMemo)(()=>2!==z.length?"":[...z].sort().join("/"),[z]),tp=e=>{W(t=>t.includes(e)?t.filter(t=>t!==e):t.length<2?[...t,e]:[t[1],e])},ty=(0,n.useMemo)(()=>{let e=new Map;for(let r of eF){var t,s;let a=(null!==(t=r.winningPlayer)&&void 0!==t?t:"").trim(),l=(null!==(s=r.losingPlayer)&&void 0!==s?s:"").trim();if(a){let t=a.toLowerCase(),s=e.get(t)||{wins:0,losses:0,total:0};s.wins+=1,s.total+=1,e.set(t,s)}if(l){let t=l.toLowerCase(),s=e.get(t)||{wins:0,losses:0,total:0};s.losses+=1,s.total+=1,e.set(t,s)}}return Array.from(e.entries()).map(e=>{let[t,s]=e;return{player:t,wins:s.wins,losses:s.losses,total:s.total,winrate:s.total?s.wins/s.total:0}}).filter(e=>e.total>=20).sort((e,t)=>t.winrate-e.winrate||t.total-e.total||t.wins-e.wins||e.player.localeCompare(t.player)).slice(0,10)},[eF]),tb=(0,n.useMemo)(()=>{let e=new Map;for(let l of eF){var t,s,r,a;let n=(null!==(t=l.winningClasses)&&void 0!==t?t:"").trim(),i=(null!==(s=l.losingClasses)&&void 0!==s?s:"").trim(),o=(null!==(r=l.winningPlayer)&&void 0!==r?r:"").trim().toLowerCase(),c=(null!==(a=l.losingPlayer)&&void 0!==a?a:"").trim().toLowerCase();if(n&&n.includes("/")&&o){e.has(n)||e.set(n,new Map);let t=e.get(n),s=t.get(o)||{wins:0,losses:0,total:0};s.wins+=1,s.total+=1,t.set(o,s)}if(i&&i.includes("/")&&c){e.has(i)||e.set(i,new Map);let t=e.get(i),s=t.get(c)||{wins:0,losses:0,total:0};s.losses+=1,s.total+=1,t.set(c,s)}}let l=[];for(let[t,s]of e.entries()){let e=null;for(let[t,r]of s.entries()){if(r.total<20)continue;let s=r.wins/r.total;(!e||s>e.winrate||s===e.winrate&&r.total>e.total)&&(e={player:t,wins:r.wins,losses:r.losses,total:r.total,winrate:s})}e&&l.push({klass:t,...e})}return l.sort((e,t)=>t.winrate-e.winrate||t.total-e.total||e.klass.localeCompare(t.klass))},[eF]),tv=e=>{let t=new Date,r=new Date(t.getFullYear(),t.getMonth(),t.getDate());if("today"===e)s(v(r)<p?p:v(r)),j(v(r));else if("last7"===e){let e=new Date(r);e.setDate(e.getDate()-6),s(v(e)<p?p:v(e)),j(v(r))}else if("last30"===e){let e=new Date(r);e.setDate(e.getDate()-29),s(v(e)<p?p:v(e)),j(v(r))}else if("thisMonth"===e){let e=new Date(r.getFullYear(),r.getMonth(),1);s(v(e)<p?p:v(e)),j(v(r))}else if("prevMonth"===e){let e=new Date(r.getFullYear(),r.getMonth()-1,1),t=new Date(r.getFullYear(),r.getMonth(),0);s(v(e)<p?p:v(e)),j(v(t))}else"allTime"===e?(s(p),j("")):"sincePatch"===e&&(s(y),j(""))},tj=async()=>{U(null),R(null),Z([]),A(!0),eA("idle");try{let e={startTs:t===y?1768392e3:N(t),endTs:f(a),wantAgg:!0,live:!1,cacheOnly:!0},s=await fetch("/api/eth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw Error("HTTP ".concat(s.status,": ").concat(s.statusText));let r=await s.json();if(!r.ok)throw Error(r.error||"Unknown error");r.warning&&R(r.warning);let l=(r.rows||[]).map(e=>({...e,winningPlayer:b(e.winningPlayer),losingPlayer:b(e.losingPlayer)}));Z(l);let n=new Set(er);for(let e of l)n.add((e.winningPlayer||"").trim()),n.add((e.losingPlayer||"").trim());let i=Array.from(n).filter(Boolean).slice(0,200);ea(i);try{localStorage.setItem("recentPlayers",JSON.stringify(i))}catch(e){}ed(r.aggByClass||null),em(r.aggLastUpdate||null),eD(!1),eA("cached"),ey||0!==eu.length||tT();let o=new Date,c=Date.UTC(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate())/1e3,d=f(a),x=Math.floor(new Date("2026-01-15T11:49:24Z").getTime()/1e3);(void 0===d||d>=c||void 0===d||d>x)&&tN()}catch(e){U((null==e?void 0:e.message)||String(e))}finally{A(!1)}},tw=Math.floor(new Date("2026-01-15T11:49:24Z").getTime()/1e3),tN=async()=>{U(null),R(null),A(!0);try{let e=t===y?1768392e3:N(t),s=new Date,r=Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate())/1e3,l=f(a),n=(void 0===l||l>tw)&&(e||0)<=(l||Date.now()/1e3),i=await fetch("/api/eth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({startTs:n?Math.max(e||0,tw+1):Math.max(e||0,r),endTs:l,wantAgg:!0,live:!0,cacheOnly:!1})});if(!i.ok)throw Error("HTTP ".concat(i.status,": ").concat(i.statusText));let o=await i.json();if(!o.ok)throw Error(o.error||"Unknown error");o.warning&&R(o.warning);let c=(o.rows||[]).map(e=>({...e,winningPlayer:b(e.winningPlayer),losingPlayer:b(e.losingPlayer)}));Z(e=>(function(e,t){let s=new Map;for(let t of e){let e="number"==typeof t.logIndex?"".concat(t.txHash,":").concat(t.logIndex):t.gameId?"gid:".concat(t.gameId):"".concat(t.txHash,":").concat(t.blockNumber);s.set(e,t)}for(let e of t){let t="number"==typeof e.logIndex?"".concat(e.txHash,":").concat(e.logIndex):e.gameId?"gid:".concat(e.gameId):"".concat(e.txHash,":").concat(e.blockNumber);s.set(t,e)}return Array.from(s.values())})(e,c)),ed(o.aggByClass||null),em(o.aggLastUpdate||null),eD(!0),eA("live")}catch(e){U((null==e?void 0:e.message)||String(e))}finally{A(!1)}},[tf,tk]=(0,n.useState)(0),[tC,tS]=(0,n.useState)(""),tP=async(e,t)=>{let s=await fetch("https://mainnet.megaeth.com/rpc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:e,params:t})}),r=await s.json();if(r.error)throw Error(r.error.message||"RPC error");return r.result},tM=async e=>{try{tS("Syncing from browser...");let t="0x7b8df4195eda5b193304eecb5107de18b6557d24",s=await tP("eth_blockNumber",[]),r=parseInt(s,16),a=Math.max(e+1,5721028);if(a>=r)return tS("Up to date"),null;tS("Browser sync: blocks ".concat(a.toLocaleString()," to ").concat(r.toLocaleString(),"..."));let l=(await tP("eth_getLogs",[{fromBlock:"0x"+a.toString(16),toBlock:"0x"+r.toString(16),address:"0xfafddbb3fc7688494971a79cc65dca3ef82079e7",topics:["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"]}])||[]).filter(e=>{var s,r;let a=null===(s=e.topics[1])||void 0===s?void 0:s.slice(-40).toLowerCase(),l=null===(r=e.topics[2])||void 0===r?void 0:r.slice(-40).toLowerCase();return a===t.slice(2)||l===t.slice(2)});if(0===l.length)return tS("No new transfers"),null;let n=BigInt(0);for(let e of l)n+=BigInt(e.data);tS("Saving ".concat(l.length," transfers to server..."));try{let e=await fetch("/api/usdm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({logs:l,toBlock:r})}),t=await e.json();if(t.ok&&t.saved)return tS("Synced! +".concat(l.length," transfers (saved)")),{totalVolume:t.totalVolume,logs:l.length,toBlock:r,saved:!0}}catch(e){console.warn("Failed to save to server:",e)}return tS("Found ".concat(l.length," new transfers (+$").concat(Math.round(Number(n)/1e18),")")),{newVolume:n.toString(),logs:l.length,toBlock:r}}catch(e){return console.error("Client sync error:",e),tS("Browser sync failed: ".concat((null==e?void 0:e.message)||"Unknown")),null}},tT=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(arguments.length>1&&void 0!==arguments[1]&&arguments[1],!ey&&(e||!(eu.length>0)||!ew)){eb(!0),ej(null);try{var t,s,r,a;let l=await fetch(e?"/api/usdm?fresh=1":"/api/usdm");if(!l.ok)throw Error("HTTP ".concat(l.status,": ").concat(l.statusText));let n=await l.json();if(!n.ok)throw Error(n.error||"Unknown error");ep(n.rows||[]),ek(n.volumeSeries||[]),eS(n.totalVolume||"0"),eN(n.updatedAt||null),ej(null);let i=null===(t=n.source)||void 0===t?void 0:t.includes("fallback"),o=(null===(s=n.warning)||void 0===s?void 0:s.includes("429"))||(null===(r=n.warning)||void 0===r?void 0:r.toLowerCase().includes("upstream"));if(i&&o&&n.lastBlock){let e=await tM(n.lastBlock);if(e){if(e.saved&&e.totalVolume)eS(e.totalVolume);else if(e.newVolume){let t=BigInt(n.totalVolume||"0")+BigInt(e.newVolume);eS(t.toString())}eN(Date.now()),tk(Date.now()),setTimeout(()=>tT(!1,!1),1e3);return}}if(n.debug||n.syncedTo){let e=n.latestBlock&&n.syncedTo?n.latestBlock-n.syncedTo:0;if(e>100){let t=n.latestBlock?Math.round(n.syncedTo/n.latestBlock*100):100;tS("Syncing... ".concat(t,"% (").concat(e.toLocaleString()," blocks left)"))}else(null===(a=n.debug)||void 0===a?void 0:a.logsFound)>0?tS("Synced! +".concat(n.debug.logsFound," transfers")):tS("Up to date")}else i&&o&&tS("Server busy, will try browser sync...");let c=n.latestBlock&&n.syncedTo?n.latestBlock-n.syncedTo:0;n.needsMoreSync||c>100||i&&o?o?setTimeout(()=>tT(!0,!0),15e3):setTimeout(()=>tT(!0,!0),2e3):(tk(Date.now()),tS(""))}catch(t){let e=(null==t?void 0:t.message)||String(t);e.includes("429")||e.toLowerCase().includes("upstream")?(tS("RPC busy, retrying in 15s..."),setTimeout(()=>tT(!0,!0),15e3)):ew&&Date.now()-ew<3e5||ej(e)}finally{eb(!1)}}},tL=(e,t)=>{let s=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),r=URL.createObjectURL(s),a=document.createElement("a");a.href=r,a.download=e,a.click(),URL.revokeObjectURL(r)},tB=e=>{if(!e)return null;try{let t=JSON.parse(e);return JSON.stringify(t,null,2)}catch(t){return e}},tD=(e,t)=>"https://megaeth.blockscout.com/tx/".concat(e,"?tab=logs"),tE=(e,t)=>{let s=(null==t?void 0:t.map(e=>e.key))||(e[0]?Object.keys(e[0]):[]);return[((null==t?void 0:t.map(e=>e.label))||s).join(","),...e.map(e=>s.map(t=>{let s=e[t],r=null==s?"":String(s),a='"'+r.replace(/"/g,'""')+'"';return/[",\n]/.test(r)?a:r}).join(","))].join("\n")},tA=(e,t,s)=>{let r=new Blob([tE(t,s)],{type:"text/csv;charset=utf-8"}),a=URL.createObjectURL(r),l=document.createElement("a");l.href=a,l.download=e,l.click(),URL.revokeObjectURL(a)};return(0,r.jsxs)("div",{className:"min-h-screen bg-[#0a0a0a] text-gray-100",children:[(0,r.jsx)(l(),{children:(0,r.jsx)("title",{children:"Showdown Meta Tracker"})}),(0,r.jsxs)("div",{className:"mx-auto max-w-4xl px-4 py-10",children:[(0,r.jsxs)("div",{className:"mb-4 rounded-lg bg-[#1a1a1a] text-gray-500 px-4 py-2 text-xs border border-gray-800",children:["vibecoded by"," ",(0,r.jsx)("a",{className:"text-gray-400 hover:text-gray-300",href:"https://x.com/fisiroky",target:"_blank",rel:"noreferrer",children:"@fisiroky"}),(0,r.jsx)("span",{className:"mx-2 text-gray-600",children:"|"}),(0,r.jsx)("span",{className:"text-gray-400",children:"Track the meta, find your edge."})," ",(0,r.jsx)("span",{className:"text-gray-500",children:"Built on fully transparent onchain MegaETH data."})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("img",{src:"/images/showdown_small.jpg",alt:"Showdown logo",className:"h-10 w-10 rounded"}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.E.h1,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},className:"text-2xl font-bold tracking-wide text-red-500 uppercase",children:"Showdown"}),(0,r.jsx)("div",{className:"text-xs text-gray-400 uppercase tracking-widest",children:"Meta Tracker"})]})]}),(0,r.jsx)("div",{className:"flex items-center gap-3",children:(0,r.jsx)("a",{href:"https://alpha.showdown.game/",target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 bg-red-600 hover:bg-red-500 text-white px-5 py-2.5 text-sm font-bold uppercase tracking-wide transition-colors",children:"Play Now"})})]}),(0,r.jsxs)("div",{className:"mt-6 grid grid-cols-1 gap-5 lg:grid-cols-2",children:[(0,r.jsxs)("div",{className:"rounded-lg bg-[#141414] p-5 lg:sticky lg:top-4 z-20 border border-gray-800/60",children:[(0,r.jsx)("div",{className:"text-[11px] font-semibold uppercase tracking-widest text-gray-400 mb-4",children:"Filters"}),(0,r.jsx)("label",{className:"block text-[11px] text-gray-400 mb-1",children:"Player Name"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{className:"w-full rounded-lg bg-[#1c1c1c] border border-gray-700/60 px-3 py-2.5 text-sm text-gray-100 placeholder-gray-500 focus:border-gray-600 focus:outline-none",value:M,onChange:e=>{B(e.target.value),q(!0)},onFocus:()=>{K(!0),q(!0)},onBlur:()=>{K(!1),setTimeout(()=>q(!1),150)},placeholder:"Enter player name"}),Y&&X&&er.length>0&&(0,r.jsxs)("div",{className:"absolute z-30 mt-1 w-full max-h-48 overflow-y-auto rounded-lg border border-gray-700/60 bg-[#1c1c1c] shadow-xl",children:[er.filter(e=>e.toLowerCase().includes(M.toLowerCase())).slice(0,10).map(e=>(0,r.jsx)("button",{type:"button",className:"w-full px-3 py-2 text-left text-sm text-gray-300 hover:bg-[#282828] first:rounded-t-lg last:rounded-b-lg",onMouseDown:()=>{B(e),q(!1)},children:e},e)),0===er.filter(e=>e.toLowerCase().includes(M.toLowerCase())).length&&(0,r.jsx)("div",{className:"px-3 py-2 text-sm text-gray-500",children:"No matching players"})]})]}),(0,r.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-[11px] text-gray-400 mb-1",children:"Start date"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(c.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-gray-500"}),(0,r.jsx)("input",{type:"text",inputMode:"numeric",placeholder:"YYYY-MM-DD",className:"w-full rounded-lg bg-[#1c1c1c] border border-gray-700/60 pl-8 pr-3 py-2.5 text-sm text-gray-100 placeholder-gray-500 focus:border-gray-600 focus:outline-none",value:t,onChange:e=>s(e.target.value)})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-[11px] text-gray-400 mb-1",children:"End date"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(c.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-gray-500"}),(0,r.jsx)("input",{type:"text",inputMode:"numeric",placeholder:"Latest",className:"w-full rounded-lg bg-[#1c1c1c] border border-gray-700/60 pl-8 pr-3 py-2.5 text-sm text-gray-100 placeholder-gray-500 focus:border-gray-600 focus:outline-none",value:a,onChange:e=>j(e.target.value)})]})]})]}),(0,r.jsxs)("div",{className:"mt-4 flex flex-wrap items-center gap-1.5",children:[(0,r.jsx)("span",{className:"text-[11px] text-gray-500 mr-1",children:"Presets:"}),(0,r.jsx)("button",{className:"rounded-full bg-[#1c1c1c] border border-gray-700/60 px-2.5 py-1 text-[11px] text-gray-300 hover:bg-[#282828] hover:text-white transition-colors",onClick:()=>tv("sincePatch"),children:"Since last patch"}),(0,r.jsx)("button",{className:"rounded-full bg-[#1c1c1c] border border-gray-700/60 px-2.5 py-1 text-[11px] text-gray-300 hover:bg-[#282828] hover:text-white transition-colors",onClick:()=>tv("thisMonth"),children:"This month"}),(0,r.jsx)("button",{className:"rounded-full bg-[#1c1c1c] border border-gray-700/60 px-2.5 py-1 text-[11px] text-gray-300 hover:bg-[#282828] hover:text-white transition-colors",onClick:()=>tv("allTime"),children:"All time"})]}),(0,r.jsxs)("button",{onClick:()=>tj(),disabled:E,className:"mt-5 w-full inline-flex items-center justify-center gap-2 bg-red-600 hover:bg-red-500 rounded-lg px-4 py-3 text-sm text-white font-semibold uppercase tracking-wide transition-colors disabled:opacity-50",children:[E?(0,r.jsx)(d.Z,{className:"h-4 w-4 animate-spin"}):(0,r.jsx)(x.Z,{className:"h-4 w-4"}),E?"Loading...":"Analyze"]}),(0,r.jsxs)("button",{onClick:()=>tN(),disabled:E||0===O.length,className:"mt-2 w-full inline-flex items-center justify-center gap-2 bg-[#1c1c1c] hover:bg-[#282828] rounded-lg px-4 py-2.5 text-sm text-gray-400 hover:text-white transition-colors disabled:opacity-40",children:[E?(0,r.jsx)(d.Z,{className:"h-4 w-4 animate-spin"}):(0,r.jsx)(m.Z,{className:"h-4 w-4"}),"Refresh"]}),O.length>0&&(0,r.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:["cached"===eE&&"Showing cached data through ".concat(eZ,". Fetching today now…"),"live"===eE&&"Updated with today’s matches. Cached through ".concat(eZ,"."),"idle"===eE&&"Showing cached data through ".concat(eZ,".")]}),_&&(0,r.jsx)("div",{className:"rounded-lg bg-red-900/20 border border-red-800/50 p-3 text-xs text-red-400",children:_}),F&&!_&&(0,r.jsx)("div",{className:"rounded-lg bg-amber-900/20 border border-amber-800/50 p-3 text-xs text-amber-400",children:F}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("div",{className:"text-[11px] text-gray-400 mb-2",children:"Player Experience"}),(()=>{let e={all:O.length,pro:0,mixed:0,beginnerVsBeginner:0};for(let r of O){var t,s,a,l;let n=(null===(s=r.winningPlayer)||void 0===s?void 0:null===(t=s.trim)||void 0===t?void 0:t.call(s).toLowerCase())||"",i=(null===(l=r.losingPlayer)||void 0===l?void 0:null===(a=l.trim)||void 0===a?void 0:a.call(l).toLowerCase())||"",o=e_[n]||0,c=e_[i]||0,d=o>=20,x=c>=20;d&&x?e.pro++:d&&!x||!d&&x?e.mixed++:e.beginnerVsBeginner++}return(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-1.5",children:[(0,r.jsxs)("button",{onClick:()=>H("all"),className:"rounded-lg px-2.5 py-2 text-[11px] transition-colors border ".concat("all"===$?"bg-gray-700 text-white border-gray-600":"bg-[#1c1c1c] text-gray-400 hover:bg-[#282828] hover:text-white border-transparent"),children:["All Games ",(0,r.jsxs)("span",{className:"opacity-60",children:["(",e.all,")"]})]}),(0,r.jsxs)("button",{onClick:()=>H("pro"),disabled:0===e.pro,className:"rounded-lg px-2.5 py-2 text-[11px] transition-colors border ".concat("pro"===$?"bg-blue-900/60 text-blue-300 border-blue-700/50":0===e.pro?"bg-[#1c1c1c] text-gray-600 border-transparent cursor-not-allowed":"bg-[#1c1c1c] text-gray-400 hover:bg-blue-900/30 hover:text-blue-300 border-transparent"),children:["Pro vs Pro ",(0,r.jsxs)("span",{className:"opacity-60",children:["(",e.pro,")"]})]}),(0,r.jsxs)("button",{onClick:()=>H("mixed"),disabled:0===e.mixed,className:"rounded-lg px-2.5 py-2 text-[11px] transition-colors border ".concat("mixed"===$?"bg-purple-900/60 text-purple-300 border-purple-700/50":0===e.mixed?"bg-[#1c1c1c] text-gray-600 border-transparent cursor-not-allowed":"bg-[#1c1c1c] text-gray-400 hover:bg-purple-900/30 hover:text-purple-300 border-transparent"),children:["Pro vs Beginner ",(0,r.jsxs)("span",{className:"opacity-60",children:["(",e.mixed,")"]})]}),(0,r.jsxs)("button",{onClick:()=>H("beginnerVsBeginner"),disabled:0===e.beginnerVsBeginner,className:"rounded-lg px-2.5 py-2 text-[11px] transition-colors border ".concat("beginnerVsBeginner"===$?"bg-green-900/60 text-green-300 border-green-700/50":0===e.beginnerVsBeginner?"bg-[#1c1c1c] text-gray-600 border-transparent cursor-not-allowed":"bg-[#1c1c1c] text-gray-400 hover:bg-green-900/30 hover:text-green-300 border-transparent"),children:["Beginner vs Beginner ",(0,r.jsxs)("span",{className:"opacity-60",children:["(",e.beginnerVsBeginner,")"]})]})]})})(),(0,r.jsxs)("div",{className:"mt-2 text-[10px] text-gray-500 text-center",children:["all"===$&&"Showing all games regardless of experience","pro"===$&&"Both players have 20+ total games","mixed"===$&&"One experienced + one newer player","beginnerVsBeginner"===$&&"Both players have <20 total games"]})]})]}),(0,r.jsxs)("div",{id:"top-usdm-profits",className:"rounded-lg bg-[#141414] p-5 border border-gray-800/60",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-[11px] font-semibold uppercase tracking-widest text-gray-400",children:"Top Earners"}),(0,r.jsx)("div",{className:"text-[10px] text-gray-500 mt-1",children:ew&&(()=>{let e=Math.floor((Date.now()-ew)/6e4),t=Math.floor(e/60),s=t>0?"".concat(t,"h ").concat(e%60,"m ago"):e>0?"".concat(e,"m ago"):"just now",a=e>30;return(0,r.jsxs)("span",{className:a?"text-amber-500":"",children:[new Date(ew).toLocaleString()," (",s,")"]})})()})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:"Total Wagered"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-red-500 mt-0.5",children:k(eC)})]})]}),(0,r.jsxs)("button",{onClick:()=>tT(!0),disabled:ey,className:"w-full mb-2 inline-flex items-center justify-center gap-2 bg-red-600/80 hover:bg-red-600 rounded-lg px-3 py-2 text-xs text-white font-medium transition-colors disabled:opacity-40",children:[ey?(0,r.jsx)(d.Z,{className:"h-3.5 w-3.5 animate-spin"}):(0,r.jsx)(m.Z,{className:"h-3.5 w-3.5"}),ey?"Syncing...":"Refresh"]}),tC&&!ev&&(0,r.jsx)("div",{className:"mb-2 text-xs text-yellow-500/80",children:tC}),ev&&(0,r.jsx)("div",{className:"mb-3 rounded-lg p-2.5 text-xs ".concat(0===eu.length?"bg-red-900/20 border border-red-800/50 text-red-400":"bg-amber-900/20 border border-amber-800/50 text-amber-400"),children:ev}),(0,r.jsx)("div",{className:"overflow-hidden rounded-lg border border-gray-800/50",children:(0,r.jsx)("div",{children:(0,r.jsxs)("table",{className:"min-w-full text-left text-xs",children:[(0,r.jsx)("thead",{className:"sticky top-0 bg-[#1c1c1c]",children:(0,r.jsxs)("tr",{className:"text-gray-400 text-[10px] uppercase tracking-wide",children:[(0,r.jsx)("th",{className:"px-3 py-2.5 w-10 text-center",children:"#"}),(0,r.jsx)("th",{className:"px-3 py-2.5",children:"Player"}),(0,r.jsx)("th",{className:"px-3 py-2.5 text-green-500",children:"Profit"}),(0,r.jsx)("th",{className:"px-3 py-2.5 text-right",children:"Games"})]})}),(0,r.jsxs)("tbody",{className:"divide-y divide-gray-800/50",children:[eu.map((e,t)=>{let s=BigInt(e.net||"0"),a=Number((s<0n?-s:s)/0xde0b6b3a7640000n);return(0,r.jsxs)("tr",{className:"hover:bg-[#1c1c1c] transition-colors",children:[(0,r.jsx)("td",{className:"px-3 py-2.5 text-center text-gray-500",children:t+1}),(0,r.jsx)("td",{className:"px-3 py-2.5 font-mono text-[11px]",children:(0,r.jsx)("a",{className:"text-gray-300 hover:text-white",href:"https://megaeth.blockscout.com/address/".concat(e.player),target:"_blank",rel:"noreferrer",children:C(e.player)})}),(0,r.jsx)("td",{className:"px-3 py-2.5 tabular-nums ".concat(s>0n?a>=100?"text-green-400 font-bold":a>=10?"text-green-400 font-semibold":"text-green-400":s<0n?"text-red-400/70":"text-gray-400"),children:k(e.net,!0)}),(0,r.jsx)("td",{className:"px-3 py-2.5 text-right text-gray-500",children:e.txs})]},e.player+t)}),ey&&0===eu.length&&(0,r.jsx)(L,{rows:5,cols:4}),!ey&&0===eu.length&&!ev&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{className:"px-3 py-6 text-center text-gray-500",colSpan:4,children:"No data yet"})})]})]})})}),(0,r.jsx)("a",{className:"mt-3 inline-block text-[10px] text-gray-500 hover:text-gray-300 transition-colors",href:"https://megaeth.blockscout.com/address/0x7B8DF4195eda5b193304eeCB5107DE18b6557D24?tab=txs",target:"_blank",rel:"noreferrer",children:"View contract →"})]}),(0,r.jsxs)("div",{id:"tournament-winners",className:"rounded-lg bg-[#141414] p-5 border border-gray-800/60 mt-4",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-[11px] font-semibold uppercase tracking-widest text-amber-400",children:"\uD83C\uDFC6 Tournament Winners"}),(0,r.jsx)("div",{className:"text-[10px] text-gray-500 mt-1",children:"Freeroll Tournament #1"})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:"Total Prizes"}),(0,r.jsxs)("div",{className:"text-2xl font-bold text-amber-400 mt-0.5",children:["$",P.toLocaleString()]})]})]}),(0,r.jsx)("div",{className:"overflow-hidden rounded-lg border border-gray-800/50",children:(0,r.jsxs)("table",{className:"min-w-full text-left text-xs",children:[(0,r.jsx)("thead",{className:"sticky top-0 bg-[#1c1c1c]",children:(0,r.jsxs)("tr",{className:"text-gray-400 text-[10px] uppercase tracking-wide",children:[(0,r.jsx)("th",{className:"px-3 py-2.5 w-10 text-center",children:"#"}),(0,r.jsx)("th",{className:"px-3 py-2.5",children:"Player"}),(0,r.jsx)("th",{className:"px-3 py-2.5 text-amber-400",children:"Prize"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-800/50",children:S.map(e=>{let t=1===e.rank?"text-amber-300 font-bold":e.rank<=3?"text-amber-400 font-semibold":"text-amber-400/80",s=1===e.rank?"\uD83E\uDD47":2===e.rank?"\uD83E\uDD48":3===e.rank?"\uD83E\uDD49":e.rank;return(0,r.jsxs)("tr",{className:"hover:bg-[#1c1c1c] transition-colors",children:[(0,r.jsx)("td",{className:"px-3 py-2.5 text-center text-gray-500",children:s}),(0,r.jsx)("td",{className:"px-3 py-2.5 font-mono text-[11px]",children:(0,r.jsx)("a",{className:"text-gray-300 hover:text-white",href:"https://megaeth.blockscout.com/address/".concat(e.address),target:"_blank",rel:"noreferrer",children:C(e.address)})}),(0,r.jsx)("td",{className:"px-3 py-2.5 tabular-nums ".concat(t),children:e.display})]},e.address)})})]})}),(0,r.jsx)("div",{className:"mt-3 text-[10px] text-gray-500",children:"Manual payouts until tournament smart contract launches"})]})]}),(0,r.jsx)("div",{className:"mt-6 rounded-lg bg-[#141414] p-5 border border-gray-800/60",children:(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"text-center p-3 rounded-lg bg-[#1c1c1c]",children:[(0,r.jsx)("div",{className:"text-[10px] uppercase tracking-wider text-gray-400",children:"Wins"}),E&&0===eR.wins?(0,r.jsx)("div",{className:"mt-1 h-8 w-16 mx-auto bg-gray-700 rounded animate-pulse"}):(0,r.jsx)("div",{className:"mt-1 text-2xl font-bold text-green-400",children:eR.wins})]}),(0,r.jsxs)("div",{className:"text-center p-3 rounded-lg bg-[#1c1c1c]",children:[(0,r.jsx)("div",{className:"text-[10px] uppercase tracking-wider text-gray-400",children:"Losses"}),E&&0===eR.losses?(0,r.jsx)("div",{className:"mt-1 h-8 w-16 mx-auto bg-gray-700 rounded animate-pulse"}):(0,r.jsx)("div",{className:"mt-1 text-2xl font-bold text-red-400",children:eR.losses})]}),(0,r.jsxs)("div",{className:"text-center p-3 rounded-lg bg-[#1c1c1c]",children:[(0,r.jsx)("div",{className:"text-[10px] uppercase tracking-wider text-gray-400",children:"Win Rate"}),E&&0===eR.wins&&0===eR.losses?(0,r.jsx)("div",{className:"mt-1 h-8 w-20 mx-auto bg-gray-700 rounded animate-pulse"}):(0,r.jsxs)("div",{className:"mt-1 text-2xl font-bold text-gray-100",children:[(100*eR.winrate).toFixed(1),"%"]})]}),(0,r.jsxs)("div",{className:"text-center p-3 rounded-lg bg-[#1c1c1c]",children:[(0,r.jsx)("div",{className:"text-[10px] uppercase tracking-wider text-gray-400",children:"Top Class"}),E&&!eR.dominantClass?(0,r.jsx)("div",{className:"mt-1 h-6 w-24 mx-auto bg-gray-700 rounded animate-pulse"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"mt-1 text-sm font-semibold truncate text-gray-100",children:eR.dominantClass||"—"}),eR.dominantClass&&(0,r.jsxs)("div",{className:"text-[10px] text-gray-500",children:[Math.round(100*(eR.dominantClassPct||0)),"% of wins"]})]})]})]})}),(0,r.jsxs)("div",{className:"mt-6 rounded-lg bg-[#141414] p-4 border border-gray-800/60",children:[(0,r.jsx)("div",{className:"text-[11px] font-semibold uppercase tracking-widest text-gray-400 mb-3",children:"Jump to"}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-xs",children:[(0,r.jsx)("a",{href:"#player-class-stats",className:"px-3 py-1.5 rounded bg-[#1c1c1c] text-gray-300 hover:bg-[#282828] hover:text-white transition-colors",children:"Player stats"}),(0,r.jsx)("a",{href:"#class-vs-class",className:"px-3 py-1.5 rounded bg-[#1c1c1c] text-gray-300 hover:bg-[#282828] hover:text-white transition-colors",children:"Class vs Class"}),(0,r.jsx)("a",{href:"#player-matches",className:"px-3 py-1.5 rounded bg-[#1c1c1c] text-gray-300 hover:bg-[#282828] hover:text-white transition-colors",children:"Matches"}),(0,r.jsx)("a",{href:"#global-class-stats",className:"px-3 py-1.5 rounded bg-[#1c1c1c] text-gray-300 hover:bg-[#282828] hover:text-white transition-colors",children:"Global stats"}),(0,r.jsx)("a",{href:"#top-players",className:"px-3 py-1.5 rounded bg-[#1c1c1c] text-gray-300 hover:bg-[#282828] hover:text-white transition-colors",children:"Top players"}),(0,r.jsx)("a",{href:"#top-by-class",className:"px-3 py-1.5 rounded bg-[#1c1c1c] text-gray-300 hover:bg-[#282828] hover:text-white transition-colors",children:"Best by class"}),(0,r.jsx)("a",{href:"#all-decoded",className:"px-3 py-1.5 rounded bg-[#1c1c1c] text-gray-300 hover:bg-[#282828] hover:text-white transition-colors",children:"All games"}),(0,r.jsx)("a",{href:"#top-usdm-profits",className:"px-3 py-1.5 rounded bg-red-900/30 text-red-400 hover:bg-red-900/50 hover:text-red-300 border border-red-800/50 transition-colors",children:"Top Earners"})]})]}),(0,r.jsxs)("details",{id:"player-section",className:"mt-6",open:!0,children:[(0,r.jsxs)("summary",{className:"flex items-center gap-3 cursor-pointer list-none text-xs uppercase tracking-widest font-bold text-gray-400",children:[(0,r.jsx)("span",{children:"Player Analysis"}),(0,r.jsx)("span",{className:"h-px flex-1 bg-gray-800"}),(0,r.jsx)("span",{className:"text-[11px] normal-case font-normal text-red-500",children:M||"select player"})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsxs)("div",{id:"player-class-stats",className:"rounded-lg bg-[#141414] p-4 border border-gray-800/60",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"text-sm font-semibold text-gray-200",children:["Class Performance — ",(0,r.jsx)("span",{className:"text-red-500",children:M||"—"}),"all"!==$&&(0,r.jsx)("span",{className:"ml-2 text-[10px] px-1.5 py-0.5 rounded ".concat("pro"===$?"bg-blue-900/50 text-blue-400":"mixed"===$?"bg-purple-900/50 text-purple-400":"bg-green-900/50 text-green-400"),children:"pro"===$?"Pro vs Pro":"mixed"===$?"Pro vs Beginner":"Beginner vs Beginner"})]}),tr.length>0&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("button",{onClick:()=>tL("showdown_class_stats_"+(M||"player")+".json",tr),className:"inline-flex items-center gap-1.5 rounded-lg bg-[#1c1c1c] border border-gray-700/60 px-3 py-1.5 text-xs text-gray-300 hover:bg-[#282828] transition-colors",children:[(0,r.jsx)(g.Z,{className:"h-3.5 w-3.5"})," JSON"]}),(0,r.jsxs)("button",{onClick:()=>tA("showdown_class_stats_"+(M||"player")+".csv",tr),className:"inline-flex items-center gap-1.5 rounded-lg bg-[#1c1c1c] border border-gray-700/60 px-3 py-1.5 text-xs text-gray-300 hover:bg-[#282828] transition-colors",children:[(0,r.jsx)(g.Z,{className:"h-3.5 w-3.5"})," CSV"]})]})]}),(0,r.jsx)("div",{className:"mt-3 overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full text-left text-xs md:text-sm",children:[(0,r.jsx)("thead",{className:"sticky top-0 z-10",children:(0,r.jsxs)("tr",{className:"border-b border-gray-700 bg-[#1c1c1c]",children:[(0,r.jsxs)("th",{className:"p-2 w-52 cursor-pointer sticky left-0 bg-[#1c1c1c]","aria-sort":"klass"===e4.key?"asc"===e4.dir?"ascending":"descending":"none",onClick:()=>e3(e=>({key:"klass",dir:"klass"===e.key&&"asc"===e.dir?"desc":"asc"})),children:["Class ","klass"===e4.key?"asc"===e4.dir?"↑":"↓":""]}),(0,r.jsxs)("th",{className:"p-2 w-24 cursor-pointer","aria-sort":"wins"===e4.key?"asc"===e4.dir?"ascending":"descending":"none",onClick:()=>e3(e=>({key:"wins",dir:"wins"===e.key&&"asc"===e.dir?"desc":"asc"})),children:["Wins ","wins"===e4.key?"asc"===e4.dir?"↑":"↓":""]}),(0,r.jsxs)("th",{className:"p-2 w-24 cursor-pointer","aria-sort":"losses"===e4.key?"asc"===e4.dir?"ascending":"descending":"none",onClick:()=>e3(e=>({key:"losses",dir:"losses"===e.key&&"asc"===e.dir?"desc":"asc"})),children:["Losses ","losses"===e4.key?"asc"===e4.dir?"↑":"↓":""]}),(0,r.jsxs)("th",{className:"p-2 w-24 cursor-pointer","aria-sort":"total"===e4.key?"asc"===e4.dir?"ascending":"descending":"none",onClick:()=>e3(e=>({key:"total",dir:"total"===e.key&&"asc"===e.dir?"desc":"asc"})),children:["Games ","total"===e4.key?"asc"===e4.dir?"↑":"↓":""]}),(0,r.jsxs)("th",{className:"p-2 w-28 cursor-pointer","aria-sort":"winrate"===e4.key?"asc"===e4.dir?"ascending":"descending":"none",onClick:()=>e3(e=>({key:"winrate",dir:"winrate"===e.key&&"asc"===e.dir?"desc":"asc"})),children:["Win Rate ","winrate"===e4.key?"asc"===e4.dir?"↑":"↓":""]})]})}),(0,r.jsxs)("tbody",{children:[tr.map((e,t)=>(0,r.jsxs)("tr",{className:"border-b border-gray-800 hover:bg-[#1c1c1c] transition-colors",children:[(0,r.jsx)("td",{className:"p-2 sticky left-0 bg-[#141414]",children:e.klass}),(0,r.jsx)("td",{className:"p-2 tabular-nums",children:e.wins}),(0,r.jsx)("td",{className:"p-2 tabular-nums",children:e.losses}),(0,r.jsx)("td",{className:"p-2 tabular-nums",children:e.total}),(0,r.jsxs)("td",{className:"p-2 tabular-nums flex items-center gap-2",children:[(100*e.winrate).toFixed(1),"% ",(0,r.jsx)("span",{className:"text-gray-400",children:(0,r.jsx)(tm,{data:tx.get(e.klass)||[]})})]})]},e.klass+t)),E&&0===tr.length&&(0,r.jsx)(L,{rows:6,cols:5}),0===tr.length&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{className:"p-6 text-center text-gray-500",colSpan:5,children:"No class stats yet — run a query above."})})]})]})})]}),(0,r.jsxs)("div",{id:"class-vs-class",className:"mt-6 rounded-lg bg-[#141414] p-4 border border-gray-800/60",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[(0,r.jsxs)("div",{className:"text-sm font-semibold text-gray-200",children:["Class vs Class — Win Rates","all"!==$&&(0,r.jsx)("span",{className:"ml-2 text-[10px] px-1.5 py-0.5 rounded ".concat("pro"===$?"bg-blue-900/50 text-blue-400":"mixed"===$?"bg-purple-900/50 text-purple-400":"bg-green-900/50 text-green-400"),children:"pro"===$?"Pro vs Pro":"mixed"===$?"Pro vs Beginner":"Beginner vs Beginner"})]}),(0,r.jsxs)("label",{className:"flex items-center gap-2 text-xs text-gray-400",children:[(0,r.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded",checked:I,onChange:e=>V(e.target.checked)}),"Only matches incl. ",(0,r.jsx)("span",{className:"font-semibold",children:M||"player"})]})]}),(0,r.jsx)("div",{className:"mt-1 text-[11px] text-gray-500",children:"Shows all matches by default; toggle to limit to matches including the selected player."}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("div",{className:"text-xs text-gray-500 mb-2",children:"Select 2 classes to form a dual-class"}),(0,r.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-6 gap-2",children:["Bureaucrat","Cheater","Gambler","Inventor","Protector","Rebel"].map(e=>{let t=z.includes(e);return(0,r.jsx)("button",{onClick:()=>tp(e),className:"px-2 py-2 sm:px-4 rounded-lg text-xs sm:text-sm font-medium transition-all ".concat(t?"bg-red-600 text-white shadow-md ring-2 ring-red-400":"bg-[#1c1c1c] text-gray-300 hover:bg-[#282828] hover:scale-105"),children:e},e)})}),1===z.length&&(0,r.jsx)("div",{className:"mt-2 text-xs text-amber-400",children:"Select one more class to see matchups"})]}),tu&&th.matchups[tu]&&(0,r.jsx)("div",{className:"mt-5",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full text-left text-xs md:text-sm",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-gray-700 bg-[#1c1c1c]",children:[(0,r.jsxs)("th",{className:"p-2 cursor-pointer hover:bg-[#282828] transition-colors",onClick:()=>J(e=>({key:"opponent",dir:"opponent"===e.key&&"asc"===e.dir?"desc":"asc"})),children:["Opponent ","opponent"===G.key?"asc"===G.dir?"↑":"↓":""]}),(0,r.jsxs)("th",{className:"p-2 text-center cursor-pointer hover:bg-[#282828] transition-colors",onClick:()=>J(e=>({key:"winRate",dir:"winRate"===e.key&&"desc"===e.dir?"asc":"desc"})),children:[(0,r.jsx)("span",{className:"font-bold text-blue-400",children:tu})," WR ","winRate"===G.key?"asc"===G.dir?"↑":"↓":""]}),(0,r.jsxs)("th",{className:"p-2 text-center cursor-pointer hover:bg-[#282828] transition-colors",onClick:()=>J(e=>({key:"wins",dir:"wins"===e.key&&"desc"===e.dir?"asc":"desc"})),children:["Wins ","wins"===G.key?"asc"===G.dir?"↑":"↓":""]}),(0,r.jsxs)("th",{className:"p-2 text-center cursor-pointer hover:bg-[#282828] transition-colors",onClick:()=>J(e=>({key:"losses",dir:"losses"===e.key&&"desc"===e.dir?"asc":"desc"})),children:["Losses ","losses"===G.key?"asc"===G.dir?"↑":"↓":""]}),(0,r.jsxs)("th",{className:"p-2 text-center cursor-pointer hover:bg-[#282828] transition-colors",onClick:()=>J(e=>({key:"total",dir:"total"===e.key&&"desc"===e.dir?"asc":"desc"})),children:["Games ","total"===G.key?"asc"===G.dir?"↑":"↓":""]})]})}),(0,r.jsx)("tbody",{children:0===th.matchups[tu].length?(0,r.jsx)("tr",{children:(0,r.jsxs)("td",{className:"p-4 text-center text-gray-500",colSpan:5,children:["No matchup data for ",tu,"."]})}):[...th.matchups[tu]].sort((e,t)=>{let s="asc"===G.dir?1:-1;return"opponent"===G.key?s*e.opponent.localeCompare(t.opponent):"winRate"===G.key?s*(e.winRate-t.winRate):"wins"===G.key?s*(e.wins-t.wins):"losses"===G.key?s*(e.losses-t.losses):s*(e.total-t.total)}).map(e=>{let t=Math.round(120*e.winRate);return(0,r.jsxs)("tr",{className:"border-b border-gray-800 hover:bg-[#1c1c1c] transition-colors",children:[(0,r.jsx)("td",{className:"p-2 font-medium",children:e.opponent}),(0,r.jsx)("td",{className:"p-2 text-center",children:(0,r.jsxs)("span",{className:"inline-block rounded-full px-2 py-0.5 text-xs text-white font-medium",style:{backgroundColor:"hsl(".concat(t,", 60%, 45%)")},children:[(100*e.winRate).toFixed(0),"%"]})}),(0,r.jsx)("td",{className:"p-2 text-center tabular-nums text-green-400",children:e.wins}),(0,r.jsx)("td",{className:"p-2 text-center tabular-nums text-red-400",children:e.losses}),(0,r.jsx)("td",{className:"p-2 text-center tabular-nums",children:e.total})]},e.opponent)})})]})})}),tu&&!th.matchups[tu]&&th.classes.length>0&&(0,r.jsxs)("div",{className:"mt-4 p-4 text-center text-gray-500 text-sm border border-dashed rounded-lg border-gray-700",children:["No data found for ",(0,r.jsx)("span",{className:"font-semibold",children:tu})," in the current dataset"]}),!tu&&th.classes.length>0&&(0,r.jsx)("div",{className:"mt-4 p-4 text-center text-gray-500 text-sm border border-dashed rounded-lg border-gray-700",children:"Select 2 classes above to see matchup win rates"}),0===th.classes.length&&(0,r.jsx)("div",{className:"mt-4 p-4 text-center text-gray-500 text-sm",children:E?"Loading...":"No dual-class data yet — run a query above."})]}),(0,r.jsxs)("div",{id:"player-matches",className:"mt-6 rounded-lg bg-[#141414] p-4 border border-gray-800/60",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"text-sm font-semibold text-gray-200",children:["Matches — ",(0,r.jsx)("span",{className:"text-red-500",children:M||"—"}),(0,r.jsxs)("span",{className:"ml-2 text-xs text-gray-500",children:["(",eI.length,")"]}),"all"!==$&&(0,r.jsx)("span",{className:"ml-2 text-[10px] px-1.5 py-0.5 rounded ".concat("pro"===$?"bg-blue-900/50 text-blue-400":"mixed"===$?"bg-purple-900/50 text-purple-400":"bg-green-900/50 text-green-400"),children:"pro"===$?"Pro vs Pro":"mixed"===$?"Pro vs Beginner":"Beginner vs Beginner"})]}),eI.length>0&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("button",{onClick:()=>tL("showdown_matches_for_"+(M||"player")+".json",eI),className:"inline-flex items-center gap-1.5 rounded-lg bg-[#1c1c1c] border border-gray-700/60 px-3 py-1.5 text-xs text-gray-300 hover:bg-[#282828] transition-colors",children:[(0,r.jsx)(g.Z,{className:"h-4 w-4"})," JSON"]}),(0,r.jsxs)("button",{onClick:()=>tA("showdown_matches_for_"+(M||"player")+".csv",eI),className:"inline-flex items-center gap-1.5 rounded-lg bg-[#1c1c1c] border border-gray-700/60 px-3 py-1.5 text-xs text-gray-300 hover:bg-[#282828] transition-colors",children:[(0,r.jsx)(g.Z,{className:"h-4 w-4"})," CSV"]})]})]}),(0,r.jsx)("div",{className:"mt-3 overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full text-left text-xs md:text-sm",children:[(0,r.jsx)("thead",{className:"sticky top-0 z-10",children:(0,r.jsxs)("tr",{className:"border-b border-gray-700 bg-[#1c1c1c]",children:[(0,r.jsxs)("th",{className:"p-2 w-24 cursor-pointer","aria-sort":"gameNumber"===e0.key?"asc"===e0.dir?"ascending":"descending":"none",onClick:()=>e1(e=>({key:"gameNumber",dir:"gameNumber"===e.key&&"asc"===e.dir?"desc":"asc"})),children:["Game # ","gameNumber"===e0.key?"asc"===e0.dir?"↑":"↓":""]}),(0,r.jsxs)("th",{className:"p-2 w-20 cursor-pointer","aria-sort":"result"===e0.key?"asc"===e0.dir?"ascending":"descending":"none",onClick:()=>e1(e=>({key:"result",dir:"result"===e.key&&"asc"===e.dir?"desc":"asc"})),children:["Result ","result"===e0.key?"asc"===e0.dir?"↑":"↓":""]}),(0,r.jsx)("th",{className:"p-2 w-40 cursor-pointer",onClick:()=>e1(e=>({key:"opponent",dir:"opponent"==e.key&&"asc"===e.dir?"desc":"asc"})),children:"Opponent"}),(0,r.jsx)("th",{className:"p-2 w-44",children:"Player class"}),(0,r.jsx)("th",{className:"p-2 w-44",children:"Opponent class"}),(0,r.jsx)("th",{className:"p-2 w-24",children:"Duration"}),(0,r.jsxs)("th",{className:"p-2 w-40 whitespace-nowrap cursor-pointer","aria-sort":"startedAt"===e0.key?"asc"===e0.dir?"ascending":"descending":"none",onClick:()=>e1(e=>({key:"startedAt",dir:"startedAt"===e.key&&"asc"===e.dir?"desc":"asc"})),children:["Started ","startedAt"===e0.key?"asc"===e0.dir?"↑":"↓":""]}),(0,r.jsx)("th",{className:"p-2 w-16",children:"Tx"})]})}),(0,r.jsxs)("tbody",{children:[e7.map((e,t)=>(tB(e.metadata),(0,r.jsxs)(n.Fragment,{children:[(0,r.jsxs)("tr",{className:"border-b border-gray-800 hover:bg-[#1c1c1c] transition-colors cursor-pointer",onClick:()=>tt(e.txHash),children:[(0,r.jsx)("td",{className:"p-2 tabular-nums",children:e.gameNumber}),(0,r.jsx)("td",{className:"p-2 font-medium",children:e.result}),(0,r.jsx)("td",{className:"p-2",children:e.opponent}),(0,r.jsx)("td",{className:"p-2",children:e.playerClasses}),(0,r.jsx)("td",{className:"p-2",children:e.opponentClasses}),(0,r.jsx)("td",{className:"p-2",children:e.gameLength||"—"}),(0,r.jsx)("td",{className:"p-2",children:e.startedAt}),(0,r.jsxs)("td",{className:"p-2 flex items-center gap-2",children:[(0,r.jsx)("a",{className:"text-blue-600 underline",href:tD(e.txHash,e.network),target:"_blank",rel:"noreferrer",children:"tx"}),(0,r.jsx)("button",{className:"rounded border px-1 py-0.5 text-[10px]",title:"Copy tx hash",onClick:()=>te(e.txHash),children:Q===e.txHash?(0,r.jsx)(h.Z,{className:"h-3 w-3"}):(0,r.jsx)(u.Z,{className:"h-3 w-3"})})]})]}),el.has(e.txHash)&&(0,r.jsx)("tr",{className:"border-b border-gray-700 bg-[#1a1a1a]",children:(0,r.jsx)("td",{colSpan:8,className:"p-3 text-xs",children:(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-500",children:"Player class:"})," ",e.playerClasses]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-500",children:"Opponent class:"})," ",e.opponentClasses]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-500",children:"Length:"})," ",e.gameLength||"—"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-500",children:"Game type:"})," ",e.gameType||"—"]})]})})})]},e.txHash+t))),0===eI.length&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{className:"p-6 text-center text-gray-500",colSpan:8,children:E?(0,r.jsx)(L,{rows:8,cols:7}):"No matches for this player in range ".concat(tg," yet.")})})]})]})}),eI.length>eW&&(0,r.jsxs)("div",{className:"mt-3 flex items-center justify-center gap-2 text-xs",children:[(0,r.jsx)("button",{className:"rounded border px-2 py-1",onClick:()=>ez(e=>Math.max(1,e-1)),disabled:1===eH,children:"Prev"}),(0,r.jsxs)("div",{children:["Page ",eH," / ",Math.ceil(eI.length/eW)]}),(0,r.jsx)("button",{className:"rounded border px-2 py-1",onClick:()=>ez(e=>Math.min(Math.ceil(eI.length/eW),e+1)),disabled:eH>=Math.ceil(eI.length/eW),children:"Next"}),(0,r.jsxs)("select",{className:"ml-2 rounded border px-2 py-1 bg-[#1c1c1c] border-gray-700/60",value:eW,onChange:e=>eG(Number(e.target.value)),children:[(0,r.jsx)("option",{value:5,children:"5"}),(0,r.jsx)("option",{value:15,children:"15"}),(0,r.jsx)("option",{value:25,children:"25"}),(0,r.jsx)("option",{value:50,children:"50"}),(0,r.jsx)("option",{value:100,children:"100"})]}),(0,r.jsx)("input",{value:eq,onChange:e=>eX(e.target.value),onKeyDown:e=>{if("Enter"===e.key){let e=parseInt(eq||"1",10);isNaN(e)||ez(Math.min(Math.max(1,e),Math.ceil(eI.length/eW)))}},className:"ml-2 w-16 rounded border px-2 py-1 bg-[#1c1c1c] border-gray-700/60",placeholder:"Go"})]})]})]})]}),(0,r.jsxs)("details",{id:"global-section",className:"mt-10",open:!0,children:[(0,r.jsxs)("summary",{className:"flex items-center gap-3 cursor-pointer list-none text-xs uppercase tracking-widest font-bold text-gray-400",children:[(0,r.jsx)("span",{children:"Global Meta"}),(0,r.jsx)("span",{className:"h-px flex-1 bg-gray-800"}),(0,r.jsx)("span",{className:"text-[11px] normal-case font-normal text-gray-500",children:tg})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsxs)("div",{id:"global-class-stats",className:"rounded-lg bg-[#141414] p-4 border border-gray-800/60",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"text-sm font-semibold text-gray-200",children:["Class Performance — All Matches",(0,r.jsxs)("span",{className:"ml-2 text-xs text-gray-500",children:["(",tg,")"]}),"all"!==$&&(0,r.jsx)("span",{className:"ml-2 text-[10px] px-1.5 py-0.5 rounded ".concat("pro"===$?"bg-blue-900/50 text-blue-400":"mixed"===$?"bg-purple-900/50 text-purple-400":"bg-green-900/50 text-green-400"),children:"pro"===$?"Pro vs Pro":"mixed"===$?"Pro vs Beginner":"Beginner vs Beginner"})]}),ta.length>0&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("button",{onClick:()=>tL("showdown_class_stats_all.json",ta),className:"inline-flex items-center gap-1.5 rounded-lg bg-[#1c1c1c] border border-gray-700/60 px-3 py-1.5 text-xs text-gray-300 hover:bg-[#282828] transition-colors",children:[(0,r.jsx)(g.Z,{className:"h-4 w-4"})," JSON"]}),(0,r.jsxs)("button",{onClick:()=>tA("showdown_class_stats_all.csv",ta),className:"inline-flex items-center gap-1.5 rounded-lg bg-[#1c1c1c] border border-gray-700/60 px-3 py-1.5 text-xs text-gray-300 hover:bg-[#282828] transition-colors",children:[(0,r.jsx)(g.Z,{className:"h-4 w-4"})," CSV"]})]})]}),(0,r.jsx)("div",{className:"mt-1 text-[10px] text-gray-500",children:ex?"Aggregates last updated ".concat(new Date(ex).toLocaleString()):""}),(0,r.jsx)("div",{className:"mt-3 overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full text-left text-xs md:text-sm",children:[(0,r.jsx)("thead",{className:"sticky top-0 z-10",children:(0,r.jsxs)("tr",{className:"border-b border-gray-700 bg-[#1c1c1c]",children:[(0,r.jsxs)("th",{className:"p-2 w-52 cursor-pointer sticky left-0 bg-[#1c1c1c]","aria-sort":"klass"===e2.key?"asc"===e2.dir?"ascending":"descending":"none",onClick:()=>e5(e=>({key:"klass",dir:"klass"===e.key&&"asc"===e.dir?"desc":"asc"})),children:["Class ","klass"===e2.key?"asc"===e2.dir?"↑":"↓":""]}),(0,r.jsxs)("th",{className:"p-2 w-24 cursor-pointer","aria-sort":"wins"===e2.key?"asc"===e2.dir?"ascending":"descending":"none",onClick:()=>e5(e=>({key:"wins",dir:"wins"===e.key&&"asc"===e.dir?"desc":"asc"})),children:["Wins ","wins"===e2.key?"asc"===e2.dir?"↑":"↓":""]}),(0,r.jsxs)("th",{className:"p-2 w-24 cursor-pointer","aria-sort":"losses"===e2.key?"asc"===e2.dir?"ascending":"descending":"none",onClick:()=>e5(e=>({key:"losses",dir:"losses"===e.key&&"asc"===e.dir?"desc":"asc"})),children:["Losses ","losses"===e2.key?"asc"===e2.dir?"↑":"↓":""]}),(0,r.jsxs)("th",{className:"p-2 w-24 cursor-pointer","aria-sort":"total"===e2.key?"asc"===e2.dir?"ascending":"descending":"none",onClick:()=>e5(e=>({key:"total",dir:"total"===e.key&&"asc"===e.dir?"desc":"asc"})),children:["Games ","total"===e2.key?"asc"===e2.dir?"↑":"↓":""]}),(0,r.jsxs)("th",{className:"p-2 w-28 cursor-pointer","aria-sort":"winrate"===e2.key?"asc"===e2.dir?"ascending":"descending":"none",onClick:()=>e5(e=>({key:"winrate",dir:"winrate"===e.key&&"asc"===e.dir?"desc":"asc"})),children:["Win Rate ","winrate"===e2.key?"asc"===e2.dir?"↑":"↓":""]})]})}),(0,r.jsxs)("tbody",{children:[ta.map((e,t)=>(0,r.jsxs)("tr",{className:"border-b border-gray-800 hover:bg-[#1c1c1c] transition-colors",children:[(0,r.jsx)("td",{className:"p-2 sticky left-0 bg-[#141414]",children:e.klass}),(0,r.jsx)("td",{className:"p-2 tabular-nums",children:e.wins}),(0,r.jsx)("td",{className:"p-2 tabular-nums",children:e.losses}),(0,r.jsx)("td",{className:"p-2 tabular-nums",children:e.total}),(0,r.jsxs)("td",{className:"p-2 tabular-nums flex items-center gap-2",children:[(100*e.winrate).toFixed(1),"% ",(0,r.jsx)("span",{className:"text-gray-400",children:(0,r.jsx)(tm,{data:tc.get(e.klass)||[]})})]})]},e.klass+t)),E&&0===ta.length&&(0,r.jsx)(L,{rows:6,cols:5}),0===ta.length&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{className:"p-6 text-center text-gray-500",colSpan:5,children:"No data yet — run a query above."})})]})]})})]}),(0,r.jsxs)("div",{id:"top-players",className:"mt-6 rounded-lg bg-[#141414] p-4 border border-gray-800/60",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"text-sm font-semibold text-gray-200",children:["Top Players",(0,r.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"(min 20 games)"}),"all"!==$&&(0,r.jsx)("span",{className:"ml-2 text-[10px] px-1.5 py-0.5 rounded ".concat("pro"===$?"bg-blue-900/50 text-blue-400":"mixed"===$?"bg-purple-900/50 text-purple-400":"bg-green-900/50 text-green-400"),children:"pro"===$?"Pro vs Pro":"mixed"===$?"Pro vs Beginner":"Beginner vs Beginner"})]}),ty.length>0&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("button",{onClick:()=>tL("showdown_top_players.json",ty),className:"inline-flex items-center gap-1.5 rounded-lg bg-[#1c1c1c] border border-gray-700/60 px-3 py-1.5 text-xs text-gray-300 hover:bg-[#282828] transition-colors",children:[(0,r.jsx)(g.Z,{className:"h-4 w-4"})," JSON"]}),(0,r.jsxs)("button",{onClick:()=>tA("showdown_top_players.csv",ty),className:"inline-flex items-center gap-1.5 rounded-lg bg-[#1c1c1c] border border-gray-700/60 px-3 py-1.5 text-xs text-gray-300 hover:bg-[#282828] transition-colors",children:[(0,r.jsx)(g.Z,{className:"h-4 w-4"})," CSV"]})]})]}),(0,r.jsx)("div",{className:"mt-3 overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full text-left text-xs md:text-sm",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-gray-700 bg-[#1c1c1c]",children:[(0,r.jsx)("th",{className:"p-2 w-10",children:"#"}),(0,r.jsx)("th",{className:"p-2",children:"Player"}),(0,r.jsx)("th",{className:"p-2",children:"Wins"}),(0,r.jsx)("th",{className:"p-2",children:"Losses"}),(0,r.jsx)("th",{className:"p-2",children:"Games"}),(0,r.jsx)("th",{className:"p-2",children:"Win Rate"})]})}),(0,r.jsxs)("tbody",{children:[ty.map((e,t)=>(0,r.jsxs)("tr",{className:"border-b border-gray-800 hover:bg-[#1c1c1c] transition-colors",children:[(0,r.jsx)("td",{className:"p-2 tabular-nums",children:t+1}),(0,r.jsx)("td",{className:"p-2",children:e.player}),(0,r.jsx)("td",{className:"p-2 tabular-nums",children:e.wins}),(0,r.jsx)("td",{className:"p-2 tabular-nums",children:e.losses}),(0,r.jsx)("td",{className:"p-2 tabular-nums",children:e.total}),(0,r.jsxs)("td",{className:"p-2 tabular-nums",children:[(100*e.winrate).toFixed(1),"%"]})]},e.player+t)),E&&0===ty.length&&(0,r.jsx)(L,{rows:5,cols:6}),!E&&0===ty.length&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{className:"p-6 text-center text-gray-500",colSpan:6,children:"No players meet the 20‑game threshold yet."})})]})]})})]}),(0,r.jsxs)("div",{id:"top-by-class",className:"mt-6 rounded-lg bg-[#141414] p-4 border border-gray-800/60",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"text-sm font-semibold text-gray-200",children:["Best Player by Class",(0,r.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"(min 20 games)"}),"all"!==$&&(0,r.jsx)("span",{className:"ml-2 text-[10px] px-1.5 py-0.5 rounded ".concat("pro"===$?"bg-blue-900/50 text-blue-400":"mixed"===$?"bg-purple-900/50 text-purple-400":"bg-green-900/50 text-green-400"),children:"pro"===$?"Pro vs Pro":"mixed"===$?"Pro vs Beginner":"Beginner vs Beginner"})]}),tb.length>0&&(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsxs)("button",{onClick:()=>tL("showdown_top_by_class.json",tb),className:"inline-flex items-center gap-1.5 rounded-lg bg-[#1c1c1c] border border-gray-700/60 px-3 py-1.5 text-xs text-gray-300 hover:bg-[#282828] transition-colors",children:[(0,r.jsx)(g.Z,{className:"h-4 w-4"})," JSON"]})})]}),(0,r.jsx)("div",{className:"mt-3 overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full text-left text-xs md:text-sm",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-gray-700 bg-[#1c1c1c]",children:[(0,r.jsx)("th",{className:"p-2",children:"Class"}),(0,r.jsx)("th",{className:"p-2",children:"Best Player"}),(0,r.jsx)("th",{className:"p-2 text-center",children:"W/L"}),(0,r.jsx)("th",{className:"p-2 text-center",children:"Games"}),(0,r.jsx)("th",{className:"p-2 text-center",children:"Win Rate"})]})}),(0,r.jsxs)("tbody",{children:[tb.map(e=>{let t=Math.round(120*e.winrate);return(0,r.jsxs)("tr",{className:"border-b border-gray-800 hover:bg-[#1c1c1c] transition-colors",children:[(0,r.jsx)("td",{className:"p-2 font-medium",children:e.klass}),(0,r.jsx)("td",{className:"p-2",children:e.player}),(0,r.jsxs)("td",{className:"p-2 text-center tabular-nums",children:[(0,r.jsx)("span",{className:"text-green-400",children:e.wins}),(0,r.jsx)("span",{className:"text-gray-400 mx-1",children:"/"}),(0,r.jsx)("span",{className:"text-red-400",children:e.losses})]}),(0,r.jsx)("td",{className:"p-2 text-center tabular-nums",children:e.total}),(0,r.jsx)("td",{className:"p-2 text-center",children:(0,r.jsxs)("span",{className:"inline-block rounded-full px-2 py-0.5 text-xs text-white font-medium",style:{backgroundColor:"hsl(".concat(t,", 60%, 45%)")},children:[(100*e.winrate).toFixed(0),"%"]})})]},e.klass)}),E&&0===tb.length&&(0,r.jsx)(L,{rows:5,cols:5}),!E&&0===tb.length&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{className:"p-6 text-center text-gray-500",colSpan:5,children:"No class data available yet."})})]})]})})]}),(0,r.jsxs)("div",{id:"all-decoded",className:"mt-6 rounded-lg bg-[#141414] p-4 border border-gray-800/60",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"text-sm font-semibold text-gray-200",children:["All Games",(0,r.jsxs)("span",{className:"ml-2 text-xs text-gray-500",children:["(","all"===$?O.length:eU.length,")"]}),"all"!==$&&(0,r.jsx)("span",{className:"ml-2 text-[10px] px-1.5 py-0.5 rounded ".concat("pro"===$?"bg-blue-900/50 text-blue-400":"mixed"===$?"bg-purple-900/50 text-purple-400":"bg-green-900/50 text-green-400"),children:"pro"===$?"Pro vs Pro":"mixed"===$?"Pro vs Beginner":"Beginner vs Beginner"})]}),O.length>0&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("button",{onClick:()=>tL("showdown_winrate_results.json",O),className:"inline-flex items-center gap-1.5 rounded-lg bg-[#1c1c1c] border border-gray-700/60 px-3 py-1.5 text-xs text-gray-300 hover:bg-[#282828] transition-colors",children:[(0,r.jsx)(g.Z,{className:"h-4 w-4"})," JSON"]}),(0,r.jsxs)("button",{onClick:()=>tA("showdown_winrate_results.csv",O),className:"inline-flex items-center gap-1.5 rounded-lg bg-[#1c1c1c] border border-gray-700/60 px-3 py-1.5 text-xs text-gray-300 hover:bg-[#282828] transition-colors",children:[(0,r.jsx)(g.Z,{className:"h-4 w-4"})," CSV"]})]})]}),(0,r.jsx)("div",{className:"mt-3 overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full text-left text-xs md:text-sm",children:[(0,r.jsx)("thead",{className:"sticky top-0 z-10",children:(0,r.jsxs)("tr",{className:"border-b border-gray-700 bg-[#1c1c1c]",children:[(0,r.jsxs)("th",{className:"p-2 w-24 cursor-pointer","aria-sort":"gameNumber"===eK.key?"asc"===eK.dir?"ascending":"descending":"none",onClick:()=>eQ(e=>({key:"gameNumber",dir:"gameNumber"===e.key&&"asc"===e.dir?"desc":"asc"})),children:["Game # ","gameNumber"===eK.key?"asc"===eK.dir?"↑":"↓":""]}),(0,r.jsx)("th",{className:"p-2 w-40",children:"Game ID"}),(0,r.jsxs)("th",{className:"p-2 w-40 whitespace-nowrap cursor-pointer","aria-sort":"startedAt"===eK.key?"asc"===eK.dir?"ascending":"descending":"none",onClick:()=>eQ(e=>({key:"startedAt",dir:"startedAt"===e.key&&"asc"===e.dir?"desc":"asc"})),children:["Started ","startedAt"===eK.key?"asc"===eK.dir?"↑":"↓":""]}),(0,r.jsx)("th",{className:"p-2 w-40 cursor-pointer",onClick:()=>eQ(e=>({key:"winningPlayer",dir:"winningPlayer"===e.key&&"asc"===e.dir?"desc":"asc"})),children:"Winner"}),(0,r.jsx)("th",{className:"p-2 w-40 cursor-pointer",onClick:()=>eQ(e=>({key:"losingPlayer",dir:"losingPlayer"===e.key&&"asc"===e.dir?"desc":"asc"})),children:"Loser"}),(0,r.jsx)("th",{className:"p-2 w-36",children:"Reason"}),(0,r.jsx)("th",{className:"p-2 w-16",children:"Tx"})]})}),(0,r.jsxs)("tbody",{children:[e6.map((e,t)=>(tB(e.metadata),(0,r.jsxs)(n.Fragment,{children:[(0,r.jsxs)("tr",{className:"border-b border-gray-800 hover:bg-[#1c1c1c] transition-colors cursor-pointer",onClick:()=>ts(e.txHash),children:[(0,r.jsx)("td",{className:"p-2 tabular-nums",children:e.gameNumber}),(0,r.jsx)("td",{className:"p-2",children:e.gameId}),(0,r.jsx)("td",{className:"p-2",children:e.startedAt}),(0,r.jsx)("td",{className:"p-2 font-medium",children:e.winningPlayer}),(0,r.jsx)("td",{className:"p-2",children:e.losingPlayer}),(0,r.jsx)("td",{className:"p-2",children:e.endReason}),(0,r.jsxs)("td",{className:"p-2 flex items-center gap-2",children:[(0,r.jsx)("a",{className:"text-blue-600 underline",href:tD(e.txHash,e.network),target:"_blank",rel:"noreferrer",children:"tx"}),(0,r.jsx)("button",{className:"rounded border px-1 py-0.5 text-[10px]",title:"Copy tx hash",onClick:()=>te(e.txHash),children:Q===e.txHash?(0,r.jsx)(h.Z,{className:"h-3 w-3"}):(0,r.jsx)(u.Z,{className:"h-3 w-3"})})]})]}),ei.has(e.txHash)&&(0,r.jsx)("tr",{className:"border-b border-gray-700 bg-[#1a1a1a]",children:(0,r.jsx)("td",{colSpan:7,className:"p-3 text-xs",children:(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-500",children:"Winning classes:"})," ",e.winningClasses]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-500",children:"Losing classes:"})," ",e.losingClasses]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-500",children:"Length:"})," ",e.gameLength]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-500",children:"Game type:"})," ",e.gameType||"—"]})]})})})]},e.txHash+t))),0===O.length&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{className:"p-6 text-center text-gray-500",colSpan:7,children:E?(0,r.jsx)(L,{rows:10,cols:7}):"No rows for range ".concat(tg,". Pick a different date range and click Compute.")})})]})]})}),O.length>eW&&(0,r.jsxs)("div",{className:"mt-3 flex items-center justify-center gap-2 text-xs",children:[(0,r.jsx)("button",{className:"rounded border px-2 py-1",onClick:()=>e$(e=>Math.max(1,e-1)),disabled:1===eV,children:"Prev"}),(0,r.jsxs)("div",{children:["Page ",eV," / ",Math.ceil(O.length/eW)]}),(0,r.jsx)("button",{className:"rounded border px-2 py-1",onClick:()=>e$(e=>Math.min(Math.ceil(O.length/eW),e+1)),disabled:eV>=Math.ceil(O.length/eW),children:"Next"}),(0,r.jsxs)("select",{className:"ml-2 rounded border px-2 py-1 bg-[#1c1c1c] border-gray-700/60",value:eW,onChange:e=>eG(Number(e.target.value)),children:[(0,r.jsx)("option",{value:5,children:"5"}),(0,r.jsx)("option",{value:15,children:"15"}),(0,r.jsx)("option",{value:25,children:"25"}),(0,r.jsx)("option",{value:50,children:"50"}),(0,r.jsx)("option",{value:100,children:"100"})]}),(0,r.jsx)("input",{value:eJ,onChange:e=>eY(e.target.value),onKeyDown:e=>{if("Enter"===e.key){let e=parseInt(eJ||"1",10);isNaN(e)||e$(Math.min(Math.max(1,e),Math.ceil(O.length/eW)))}},className:"ml-2 w-16 rounded border px-2 py-1 bg-[#1c1c1c] border-gray-700/60",placeholder:"Go"})]})]})]})]}),(0,r.jsx)("div",{className:"mt-4 text-xs text-gray-500",children:"Daily cache on the server makes historical queries instant; today is fetched incrementally."})]}),Q&&(0,r.jsxs)("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-30 rounded-full bg-gray-100 text-gray-900 px-3 py-1 text-xs shadow",children:["Copied tx: ",Q.slice(0,10),"…"]}),(0,r.jsx)(T,{visible:et})]})}function T(e){let{visible:t}=e;return t?(0,r.jsx)("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-6 right-6 z-20 rounded-full bg-[#1c1c1c] text-white p-3 shadow-lg border border-gray-700/60 hover:bg-[#282828] transition-colors",title:"Back to top",children:(0,r.jsx)(m.Z,{className:"h-4 w-4"})}):null}function L(e){let{rows:t,cols:s}=e,a=Array.from({length:t}),l=Array.from({length:s});return(0,r.jsx)(r.Fragment,{children:a.map((e,t)=>(0,r.jsx)("tr",{className:"animate-pulse",children:l.map((e,t)=>(0,r.jsx)("td",{className:"p-2",children:(0,r.jsx)("div",{className:"h-3 rounded bg-gray-700"})},t))},t))})}}},function(e){e.O(0,[351,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);